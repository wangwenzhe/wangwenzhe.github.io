<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Activiti-Service-API | 王文哲的博客</title><meta name="author" content="王文哲"><meta name="copyright" content="王文哲"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="注意 流程实例变量【启动流程实例时传入变量Map，启动后根据实例ID获取或设置变量Map】和，任务变量  通过流程变量可以设置候选人、网关条件、都会决定流程中的网关走向  添加任务变量、任务人员数据时，不仅在运行时表中添加，还会在历史表中添加  同理添加流程实例变量数据时，不仅在运行时表中添加，还会在历史表中添加  任务完成或流程实例完成，运行时表中数据就会被清除，历史表中依然存在  删除流程实例">
<meta property="og:type" content="article">
<meta property="og:title" content="Activiti-Service-API">
<meta property="og:url" content="https://wangwenzhe.github.io/posts/365c8d84.html">
<meta property="og:site_name" content="王文哲的博客">
<meta property="og:description" content="注意 流程实例变量【启动流程实例时传入变量Map，启动后根据实例ID获取或设置变量Map】和，任务变量  通过流程变量可以设置候选人、网关条件、都会决定流程中的网关走向  添加任务变量、任务人员数据时，不仅在运行时表中添加，还会在历史表中添加  同理添加流程实例变量数据时，不仅在运行时表中添加，还会在历史表中添加  任务完成或流程实例完成，运行时表中数据就会被清除，历史表中依然存在  删除流程实例">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wangwenzhe.github.io/about/logo.png">
<meta property="article:published_time" content="2022-01-06T08:06:14.000Z">
<meta property="article:modified_time" content="2025-06-15T13:17:21.685Z">
<meta property="article:author" content="王文哲">
<meta property="article:tag" content="Activiti">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wangwenzhe.github.io/about/logo.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://wangwenzhe.github.io/posts/365c8d84.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Activiti-Service-API',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-06-15 21:17:21'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/about/logo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">593</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">354</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">555</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('/img/top_img.jpeg')"><nav id="nav"><span id="blog-info"><a href="/" title="王文哲的博客"><span class="site-name">王文哲的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Activiti-Service-API</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-06T08:06:14.000Z" title="发表于 2022-01-06 16:06:14">2022-01-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-15T13:17:21.685Z" title="更新于 2025-06-15 21:17:21">2025-06-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E4%BD%9C%E6%B5%81/">工作流</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E4%BD%9C%E6%B5%81/Activiti/">Activiti</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>41分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Activiti-Service-API"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol>
<li><p>流程实例变量【启动流程实例时传入变量Map，启动后根据实例ID获取或设置变量Map】和，任务变量</p>
</li>
<li><p>通过流程变量可以设置候选人、网关条件、都会决定流程中的网关走向</p>
</li>
<li><p>添加任务变量、任务人员数据时，不仅在运行时表中添加，还会在历史表中添加</p>
</li>
<li><p>同理添加流程实例变量数据时，不仅在运行时表中添加，还会在历史表中添加</p>
</li>
<li><p>任务完成或流程实例完成，运行时表中数据就会被清除，历史表中依然存在</p>
</li>
<li><p>删除流程实例：<strong>先删除运行数据，再删除历史数据</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (runtimeService.createProcessInstanceQuery().processInstanceId(procInstId).count() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  runtimeService.deleteProcessInstance(procInstId, commonService.getLoginUsername() + <span class="string">&quot;-删除流程实例：&quot;</span> + procInstId);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (historyService.createHistoricProcessInstanceQuery().processInstanceId(procInstId).count() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  historyService.deleteHistoricProcessInstance(procInstId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="常用总结"><a href="#常用总结" class="headerlink" title="常用总结"></a>常用总结</h2><h3 id="流程实例"><a href="#流程实例" class="headerlink" title="流程实例"></a>流程实例</h3><h4 id="设置流程变量"><a href="#设置流程变量" class="headerlink" title="设置流程变量"></a>设置流程变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runtimeService.setVariable(procInstId, ActivitiConstant.VARIABLELOCAL_EVENT_PROCINSID_HISTORY, <span class="string">&quot;C202210230111&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="获取流程变量"><a href="#获取流程变量" class="headerlink" title="获取流程变量"></a>获取流程变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HistoricVariableInstance</span> <span class="variable">historicVariableInstance</span> <span class="operator">=</span> historyService.createHistoricVariableInstanceQuery()</span><br><span class="line">                    .processInstanceId(procInstId)</span><br><span class="line">                    .variableName(ActivitiConstant.VARIABLELOCAL_EVENT_PROCINSID_HISTORY).singleResult();</span><br><span class="line"><span class="keyword">if</span>(historicVariableInstance != <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="type">String</span> <span class="variable">eventId</span> <span class="operator">=</span> (String) historicVariableInstance.getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="任务实例"><a href="#任务实例" class="headerlink" title="任务实例"></a>任务实例</h3><h4 id="获取流程实例-指定节点的历史任务实例"><a href="#获取流程实例-指定节点的历史任务实例" class="headerlink" title="获取流程实例-指定节点的历史任务实例"></a>获取流程实例-指定节点的历史任务实例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Task</span> <span class="variable">t</span> <span class="operator">=</span> tasks.get(<span class="number">0</span>);</span><br><span class="line">List&lt;HistoricTaskInstance&gt; historicTaskInstanceList = historyService.createHistoricTaskInstanceQuery()</span><br><span class="line">                    .processInstanceId(procInstId) <span class="comment">// 流程实例</span></span><br><span class="line">                    .taskDefinitionKey(t.getTaskDefinitionKey()) <span class="comment">// 任务所在节点</span></span><br><span class="line">                    .orderByHistoricTaskInstanceEndTime().desc().list(); <span class="comment">// 任务完成时间倒序</span></span><br></pre></td></tr></table></figure>

<h4 id="设置任务实例变量"><a href="#设置任务实例变量" class="headerlink" title="设置任务实例变量"></a>设置任务实例变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VariableTaskOperation</span> <span class="variable">variableTaskOperation</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VariableTaskOperation</span>();</span><br><span class="line">variableTaskOperation.setAppcode(appcode);</span><br><span class="line">variableTaskOperation.setProcInsIdExt(procInsIdExt);</span><br><span class="line"></span><br><span class="line">taskService.setVariable(taskId, ActivitiConstant.VARIABLELOCAL_TASK_OPERATION_APP_EXT, variableTaskOperation);</span><br></pre></td></tr></table></figure>

<h4 id="获取任务实例变量"><a href="#获取任务实例变量" class="headerlink" title="获取任务实例变量"></a>获取任务实例变量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HistoricVariableInstance</span> <span class="variable">historicVariableInstance</span> <span class="operator">=</span> historyService.createHistoricVariableInstanceQuery()</span><br><span class="line">                        .taskId(historicTaskInstanceId)</span><br><span class="line">                        .variableName(ActivitiConstant.VARIABLELOCAL_TASK_OPERATION_APP_EXT).singleResult();</span><br><span class="line"><span class="keyword">if</span> (historicVariableInstance != <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="comment">// 历史任务的流程变量或当前任务已经添加的流程变量</span></span><br><span class="line">  <span class="type">VariableTaskOperation</span> <span class="variable">taskOperation</span> <span class="operator">=</span> (VariableTaskOperation) historicVariableInstance.getValue();</span><br><span class="line">  <span class="keyword">if</span> (taskOperation != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">appcode</span> <span class="operator">=</span> taskOperation.getAppcode();</span><br><span class="line">    <span class="keyword">if</span> (StrUtil.isNotBlank(appcode)) &#123;</span><br><span class="line">      <span class="comment">// 再次批转到对应系统-状态为二次派遣</span></span><br><span class="line">      event.setActStatus(ActivitiConstant.STATUS_TO_REPORT_AGAIN);</span><br><span class="line">      event.setStatus(ActivitiConstant.STATUS_TO_REPORT_AGAIN);</span><br><span class="line">      <span class="keyword">return</span> toServiceSystem(event, appcode, request);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取任务历史关联人信息"><a href="#获取任务历史关联人信息" class="headerlink" title="获取任务历史关联人信息"></a>获取任务历史关联人信息</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;HistoricIdentityLink&gt; his = historyService.getHistoricIdentityLinksForTask(taskId);</span><br></pre></td></tr></table></figure>

<h2 id="RepositoryService"><a href="#RepositoryService" class="headerlink" title="RepositoryService"></a>RepositoryService</h2><p>流程仓库服务，管理流程仓库，比如部署、删除、读取流程资源</p>
<h3 id="创建一个流程模型"><a href="#创建一个流程模型" class="headerlink" title="创建一个流程模型"></a>创建一个流程模型</h3><p>该模型是瞬态的，必须使用saveModel(Model)保存</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Model <span class="title function_">newModel</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="保存模型"><a href="#保存模型" class="headerlink" title="保存模型"></a>保存模型</h3><p>如果模型已存在，则更新模型，否则创建新模型</p>
<p>参数：模型 - 要保存的模型，不能为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">saveModel</span><span class="params">(Model model)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除模型"><a href="#删除模型" class="headerlink" title="删除模型"></a>删除模型</h3><p>modelId - 要删除的模型的 id，不能为空。 当为不存在的模型传递 id 时，此操作将被忽略</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteModel</span><span class="params">(String modelId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="保存模型的模型编辑器源"><a href="#保存模型的模型编辑器源" class="headerlink" title="保存模型的模型编辑器源"></a>保存模型的模型编辑器源</h3><p>参数：<br>modelId - 要删除的模型的 id，不能为空。 当为不存在的模型传递 id 时，此操作将被忽略。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addModelEditorSource</span><span class="params">(String modelId, <span class="type">byte</span>[] bytes)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="保存模型的额外的模型编辑器源"><a href="#保存模型的额外的模型编辑器源" class="headerlink" title="保存模型的额外的模型编辑器源"></a>保存模型的额外的模型编辑器源</h3><p>参数：<br>modelId - 要删除的模型的 id，不能为空。 当为不存在的模型传递 id 时，此操作将被忽略。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addModelEditorSourceExtra</span><span class="params">(String modelId, <span class="type">byte</span>[] bytes)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询模型"><a href="#查询模型" class="headerlink" title="查询模型"></a>查询模型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ModelQuery <span class="title function_">createModelQuery</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">NativeModelQuery <span class="title function_">createNativeModelQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查看模型"><a href="#查看模型" class="headerlink" title="查看模型"></a>查看模型</h3><p>参数：modelId – 模型的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Model <span class="title function_">getModel</span><span class="params">(String modelId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="返回模型编辑器源"><a href="#返回模型编辑器源" class="headerlink" title="返回模型编辑器源"></a>返回模型编辑器源</h3><p>参数：modelId – 模型的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] getModelEditorSource(String modelId);</span><br></pre></td></tr></table></figure>

<h3 id="返回模型额外编辑器源"><a href="#返回模型额外编辑器源" class="headerlink" title="返回模型额外编辑器源"></a>返回模型额外编辑器源</h3><p>参数：modelId – 模型的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] getModelEditorSourceExtra(String modelId);</span><br></pre></td></tr></table></figure>

<h3 id="创建新部署"><a href="#创建新部署" class="headerlink" title="创建新部署"></a>创建新部署</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DeploymentBuilder <span class="title function_">createDeployment</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除给定的部署"><a href="#删除给定的部署" class="headerlink" title="删除给定的部署"></a>删除给定的部署</h3><p>deploymentId - 部署的 id，不能为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteDeployment</span><span class="params">(String deploymentId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除给定的部署并级联删除流程实例、历史流程实例和作业"><a href="#删除给定的部署并级联删除流程实例、历史流程实例和作业" class="headerlink" title="删除给定的部署并级联删除流程实例、历史流程实例和作业"></a>删除给定的部署并级联删除流程实例、历史流程实例和作业</h3><p>deploymentId - 部署的 id，不能为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteDeploymentCascade</span><span class="params">(String deploymentId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除给定的部署-1"><a href="#删除给定的部署-1" class="headerlink" title="删除给定的部署"></a>删除给定的部署</h3><p>cascade是否并级联删除流程实例、历史流程实例和作业</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteDeployment</span><span class="params">(String deploymentId, <span class="type">boolean</span> cascade)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="设置部署的类别"><a href="#设置部署的类别" class="headerlink" title="设置部署的类别"></a>设置部署的类别</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setDeploymentCategory</span><span class="params">(String deploymentId, String category)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询部署资源列表"><a href="#查询部署资源列表" class="headerlink" title="查询部署资源列表"></a>查询部署资源列表</h3><p>按字母顺序排列，deploymentId - 部署的 id，不能为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; <span class="title function_">getDeploymentResourceNames</span><span class="params">(String deploymentId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通过字节流访问部署资源"><a href="#通过字节流访问部署资源" class="headerlink" title="通过字节流访问部署资源"></a>通过字节流访问部署资源</h3><p>deploymentId - 部署的 id，不能为空，resourceName – 资源名称，不能为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">InputStream <span class="title function_">getResourceAsStream</span><span class="params">(String deploymentId, String resourceName)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例</span></span><br><span class="line"><span class="type">ProcessDefinition</span> <span class="variable">pd</span> <span class="operator">=</span> repositoryService.createProcessDefinitionQuery()</span><br><span class="line">                .processDefinitionId(id).singleResult();</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">resourceName</span> <span class="operator">=</span> pd.getDiagramResourceName();</span><br><span class="line"><span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> repositoryService.getResourceAsStream(pd.getDeploymentId(),</span><br><span class="line">                                                                resourceName);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  response.setContentType(<span class="string">&quot;application/octet-stream;charset=UTF-8&quot;</span>);</span><br><span class="line">  response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment; filename=&quot;</span> + URLEncoder.encode(resourceName, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">  <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">  <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> ((len = inputStream.read(b, <span class="number">0</span>, <span class="number">1024</span>)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    response.getOutputStream().write(b, <span class="number">0</span>, len);</span><br><span class="line">  &#125;</span><br><span class="line">  response.flushBuffer();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">  log.error(e.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="更改部署的租户标识符以匹配给定的租户标识符"><a href="#更改部署的租户标识符以匹配给定的租户标识符" class="headerlink" title="更改部署的租户标识符以匹配给定的租户标识符"></a>更改部署的租户标识符以匹配给定的租户标识符</h3><p>deploymentId – 将更改租户标识符的部署的 ID，newTenantId – 新租户标识符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">changeDeploymentTenantId</span><span class="params">(String deploymentId, String newTenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询流程定义"><a href="#查询流程定义" class="headerlink" title="查询流程定义"></a>查询流程定义</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessDefinitionQuery <span class="title function_">createProcessDefinitionQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询流程定义-1"><a href="#查询流程定义-1" class="headerlink" title="查询流程定义"></a>查询流程定义</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeProcessDefinitionQuery <span class="title function_">createNativeProcessDefinitionQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询部署"><a href="#查询部署" class="headerlink" title="查询部署"></a>查询部署</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DeploymentQuery <span class="title function_">createDeploymentQuery</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">NativeDeploymentQuery <span class="title function_">createNativeDeploymentQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="挂起流程定义"><a href="#挂起流程定义" class="headerlink" title="挂起流程定义"></a>挂起流程定义</h3><p>如果流程定义处于挂起状态，则无法根据流程定义启动新流程实例。 注意：流程定义的所有流程实例仍将处于活动状态（即未暂停）！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessDefinitionById</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<p>如果流程定义处于挂起状态，则无法根据流程定义启动新流程实例，suspendProcessInstances – 如果为 true，所提供流程定义的所有流程实例也将被挂起。暂停日期 - 流程定义挂起的日期。 如果为空，流程定义将立即挂起。 注意：作业执行程序需要处于活动状态才能使用它！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessDefinitionById</span><span class="params">(String processDefinitionId, <span class="type">boolean</span> suspendProcessInstances, Date suspensionDate)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="挂起流程定义-1"><a href="#挂起流程定义-1" class="headerlink" title="挂起流程定义"></a>挂起流程定义</h3><p>使用给定的键（&#x3D; bpmn20.xml 文件中的 id）暂停所有流程定义。 如果流程定义处于挂起状态，则无法根据流程定义启动新流程实例。 注意：流程定义的所有流程实例仍将处于活动状态（即未暂停）！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessDefinitionByKey</span><span class="params">(String processDefinitionKey)</span>;</span><br></pre></td></tr></table></figure>

<p>使用给定的键（&#x3D; bpmn20.xml 文件中的 id）暂停所有流程定义。 如果流程定义处于挂起状态，则无法根据流程定义启动新流程实例。suspendProcessInstances – 如果为 true，所提供流程定义的所有流程实例也将被挂起。<br>暂停日期 - 流程定义将暂停的日期。 如果为空，流程定义将立即挂起。 注意：作业执行程序需要处于活动状态才能使用它！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessDefinitionByKey</span><span class="params">(String processDefinitionKey, <span class="type">boolean</span> suspendProcessInstances, Date suspensionDate)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="挂起流程定义-2"><a href="#挂起流程定义-2" class="headerlink" title="挂起流程定义"></a>挂起流程定义</h3><p>类似于suspendProcessDefinitionByKey(String) ，但仅适用于给定的租户标识符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessDefinitionByKey</span><span class="params">(String processDefinitionKey, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<p>类似于suspendProcessDefinitionByKey(String, boolean, Date) ，但仅适用于给定的租户标识符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessDefinitionByKey</span><span class="params">(String processDefinitionKey, <span class="type">boolean</span> suspendProcessInstances, Date suspensionDate, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="激活流程定义"><a href="#激活流程定义" class="headerlink" title="激活流程定义"></a>激活流程定义</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessDefinitionById</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<p>使用给定的 id 激活流程定义，activationDate – 流程定义将被激活的日期。 如果为空，则立即激活流程定义。 注意：作业执行程序需要处于活动状态才能使用它！activateProcessInstances-激活流程实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessDefinitionById</span><span class="params">(String processDefinitionId, <span class="type">boolean</span> activateProcessInstances, Date activationDate)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="激活流程定义-1"><a href="#激活流程定义-1" class="headerlink" title="激活流程定义"></a>激活流程定义</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessDefinitionByKey</span><span class="params">(String processDefinitionKey)</span>;</span><br></pre></td></tr></table></figure>

<p>使用给定的键（&#x3D; bpmn20.xml 文件中的 id）激活流程定义。activationDate – 流程定义将被激活的日期。 如果为空，则立即激活流程定义。 注意：作业执行程序需要处于活动状态才能使用它！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessDefinitionByKey</span><span class="params">(String processDefinitionKey, <span class="type">boolean</span> activateProcessInstances,  Date activationDate)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="激活流程定义-2"><a href="#激活流程定义-2" class="headerlink" title="激活流程定义"></a>激活流程定义</h3><p>activateProcessDefinitionByKey(String) ，但仅适用于给定的租户标识符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessDefinitionByKey</span><span class="params">(String processDefinitionKey, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<p>类似于activateProcessDefinitionByKey(String, boolean, Date) ，但仅适用于给定的租户标识符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessDefinitionByKey</span><span class="params">(String processDefinitionKey, <span class="type">boolean</span> activateProcessInstances,  Date activationDate, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="设置流程定义的类别"><a href="#设置流程定义的类别" class="headerlink" title="设置流程定义的类别"></a>设置流程定义的类别</h3><p>可以按类别查询流程定义：参见ProcessDefinitionQuery.processDefinitionCategory(String) 。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setProcessDefinitionCategory</span><span class="params">(String processDefinitionId, String category)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查看流程模型、流程定义、流程图"><a href="#查看流程模型、流程定义、流程图" class="headerlink" title="查看流程模型、流程定义、流程图"></a>查看流程模型、流程定义、流程图</h3><ul>
<li>例如 BPMN 2.0 XML 文件</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream <span class="title function_">getProcessModel</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>通过字节流访问已部署的流程图，例如 PNG 图像</li>
</ul>
<blockquote>
<p>参数：processDefinitionId – ProcessDefinition id，不能为 null。</p>
<p>返回：当ProcessDefinition的图表资源名称为 null 时为 null。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream <span class="title function_">getProcessDiagram</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>返回ProcessDefinition包括所有 BPMN 信息，如附加属性（例如文档）。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessDefinition <span class="title function_">getProcessDefinition</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>返回与具有提供的流程定义 ID 的流程定义对应的BpmnModel 。 BpmnModel是 BPMN 2.0 xml 的 pojo 版本，可用于使用常规 Java 内省流程定义。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BpmnModel <span class="title function_">getBpmnModel</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>提供由getProcessDiagram(String)提供的流程图中元素的位置和尺寸。 此方法需要部署流程模型和图表图像。</li>
</ul>
<blockquote>
<p>参数：<br>processDefinitionId – processDefinitionId，不能为 null。<br>返回：<br>以流程元素 ID 作为键，以位置和维度作为值进行映射。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DiagramLayout <span class="title function_">getProcessDiagramLayout</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="检查流程定义是否挂起"><a href="#检查流程定义是否挂起" class="headerlink" title="检查流程定义是否挂起"></a>检查流程定义是否挂起</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">isProcessDefinitionSuspended</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="流程定义添加候选启动用户"><a href="#流程定义添加候选启动用户" class="headerlink" title="流程定义添加候选启动用户"></a>流程定义添加候选启动用户</h3><p>参数：processDefinitionId – 流程定义的id，不能为空。<br>userId – 涉及的用户ID，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addCandidateStarterUser</span><span class="params">(String processDefinitionId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="流程定义授权候启动选组"><a href="#流程定义授权候启动选组" class="headerlink" title="流程定义授权候启动选组"></a>流程定义授权候启动选组</h3><p>参数：<br>processDefinitionId – 流程定义的id，不能为空。<br>groupId - 涉及的组的 id，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addCandidateStarterGroup</span><span class="params">(String processDefinitionId, String groupId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除流程定义候选启动用户"><a href="#删除流程定义候选启动用户" class="headerlink" title="删除流程定义候选启动用户"></a>删除流程定义候选启动用户</h3><p>参数：</p>
<p>processDefinitionId – 流程定义的id，不能为空。<br>userId – 涉及的用户ID，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteCandidateStarterUser</span><span class="params">(String processDefinitionId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除流程定义的候选启动组"><a href="#删除流程定义的候选启动组" class="headerlink" title="删除流程定义的候选启动组"></a>删除流程定义的候选启动组</h3><p>参数：<br>processDefinitionId – 流程定义的id，不能为空。<br>groupId - 涉及的组的 id，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteCandidateStarterGroup</span><span class="params">(String processDefinitionId, String groupId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询流程定义关联的IdentityLink"><a href="#查询流程定义关联的IdentityLink" class="headerlink" title="查询流程定义关联的IdentityLink"></a>查询流程定义关联的IdentityLink</h3><p>这样的IdentityLink通知如何为某个流程定义授权某个身份（例如组或用户）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;IdentityLink&gt; <span class="title function_">getIdentityLinksForProcessDefinition</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="根据在-Activiti-引擎上执行流程定义的规则验证给定的流程定义"><a href="#根据在-Activiti-引擎上执行流程定义的规则验证给定的流程定义" class="headerlink" title="根据在 Activiti 引擎上执行流程定义的规则验证给定的流程定义"></a>根据在 Activiti 引擎上执行流程定义的规则验证给定的流程定义</h3><p>要从字符串创建这样的BpmnModel ，可以使用以下代码： XMLInputFactory xif &#x3D; XMLInputFactory.newInstance(); InputStreamReader in &#x3D; new InputStreamReader(new ByteArrayInputStream(myProcess.getBytes()), “UTF-8”); &#x2F;&#x2F; 更改为其他流，例如从类路径 XMLStreamReader xtr &#x3D; xif.createXMLStreamReader(in); bpmnModel &#x3D; new BpmnXMLConverter().convertToBpmnModel(xtr);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;ValidationError&gt; <span class="title function_">validateProcess</span><span class="params">(BpmnModel bpmnModel)</span>;</span><br></pre></td></tr></table></figure>

<h2 id="RuntimeService"><a href="#RuntimeService" class="headerlink" title="RuntimeService"></a>RuntimeService</h2><blockquote>
<p>运行服务，处理所有正在运行态的流程实例、任务等</p>
</blockquote>
<h3 id="启动一个流程实例ByKey"><a href="#启动一个流程实例ByKey" class="headerlink" title="启动一个流程实例ByKey"></a>启动一个流程实例ByKey</h3><p>参数：<br>processDefinitionKey – 流程定义键，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKey</span><span class="params">(String processDefinitionKey)</span>;</span><br></pre></td></tr></table></figure>

<p>使用给定的键在流程定义的最新版本中启动一个新流程实例</p>
<p>可以提供业务密钥，将流程实例与具有明确业务含义的某个标识符相关联。 例如，在订单流程中，业务键可以是订单 ID。 然后可以使用此业务键轻松查找该流程实例，请参阅ProcessInstanceQuery.processInstanceBusinessKey(String) 。 提供这样的业务密钥绝对是最佳实践。</p>
<p>参数：<br>processDefinitionKey – 流程定义键，不能为空。<br>businessKey – 在上下文或给定流程定义中唯一标识流程实例的键。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKey</span><span class="params">(String processDefinitionKey, String businessKey)</span>;</span><br></pre></td></tr></table></figure>

<p>使用给定的键在最新版本的流程定义中启动一个新流程实例</p>
<p>参数：<br>processDefinitionKey – 流程定义键，不能为空。<br>variables - 要传递的变量，可以为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKey</span><span class="params">(String processDefinitionKey, Map&lt;String, Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<p>使用给定的键在流程定义的最新版本中启动一个新流程实例。 可以提供业务密钥，将流程实例与具有明确业务含义的某个标识符相关联。 例如，在订单流程中，业务键可以是订单 ID。 然后可以使用此业务键轻松查找该流程实例，请参阅ProcessInstanceQuery.processInstanceBusinessKey(String) 。 提供这样的业务密钥绝对是最佳实践。 processdefinitionKey-businessKey 的组合必须是唯一的。</p>
<p>参数：<br>processDefinitionKey – 流程定义键，不能为空。<br>businessKey – 在上下文或给定流程定义中唯一标识流程实例的键。<br>variables - 要传递的变量，可以为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKey</span><span class="params">(String processDefinitionKey, String businessKey, Map&lt;String, Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="启动一个流程实例-，但使用特定的租户标识符"><a href="#启动一个流程实例-，但使用特定的租户标识符" class="headerlink" title="启动一个流程实例 ，但使用特定的租户标识符"></a>启动一个流程实例 ，但使用特定的租户标识符</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKeyAndTenantId</span><span class="params">(String processDefinitionKey, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKeyAndTenantId</span><span class="params">(String processDefinitionKey, String businessKey, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKeyAndTenantId</span><span class="params">(String processDefinitionKey, Map&lt;String, Object&gt; variables, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByKeyAndTenantId</span><span class="params">(String processDefinitionKey, String businessKey, Map&lt;String, Object&gt; variables, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="启动一个流程实例ById"><a href="#启动一个流程实例ById" class="headerlink" title="启动一个流程实例ById"></a>启动一个流程实例ById</h3><p>参数：<br>processDefinitionId – 流程定义的id，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceById</span><span class="params">(String processDefinitionId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceById</span><span class="params">(String processDefinitionId, String businessKey)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceById</span><span class="params">(String processDefinitionId, Map&lt;String, Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceById</span><span class="params">(String processDefinitionId, String businessKey, Map&lt;String, Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="根据消息启动流程实例"><a href="#根据消息启动流程实例" class="headerlink" title="根据消息启动流程实例"></a>根据消息启动流程实例</h3><p>调用此方法可能有两种不同的结果：<br>如果消息名称与消息启动事件相关联，则会启动一个新的流程实例。<br>如果不存在对具有给定名称的消息的订阅，则抛出ActivitiException</p>
<p>参数：<br>messageName – 作为 bpmn20 <message name="messageName" />元素上的属性指定的消息的“名称”。<br>返回：<br>表示已启动流程实例的ProcessInstance对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessage</span><span class="params">(String messageName)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessageAndTenantId</span><span class="params">(String messageName, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessage</span><span class="params">(String messageName, String businessKey)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessageAndTenantId</span><span class="params">(String messageName, String businessKey, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessage</span><span class="params">(String messageName, Map&lt;String, Object&gt; processVariables)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessageAndTenantId</span><span class="params">(String messageName, Map&lt;String, Object&gt; processVariables, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessage</span><span class="params">(String messageName, String businessKey, Map&lt;String, Object&gt; processVariables)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstance <span class="title function_">startProcessInstanceByMessageAndTenantId</span><span class="params">(String messageName, String businessKey, Map&lt;String, Object&gt; processVariables, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除运行时流程实例"><a href="#删除运行时流程实例" class="headerlink" title="删除运行时流程实例"></a>删除运行时流程实例</h3><p>参数：<br>processInstanceId – 要删除的流程实例的 id，不能为 null。<br>deleteReason – 删除原因，可以为空。</p>
<p>删除流程实例：还包括任务，不包括历史</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteProcessInstance</span><span class="params">(String processInstanceId, String deleteReason)</span>;</span><br><span class="line"><span class="comment">// 未审批的任务会被删除，流程历史不会被删除，并且流程历史的状态为finished完成</span></span><br></pre></td></tr></table></figure>

<h3 id="查找活动中等待的所有执行的活动-ID"><a href="#查找活动中等待的所有执行的活动-ID" class="headerlink" title="查找活动中等待的所有执行的活动 ID"></a>查找活动中等待的所有执行的活动 ID</h3><p>参数：<br>executionId - 执行的 id，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; <span class="title function_">getActiveActivityIds</span><span class="params">(String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="将外部触发器发送到在给定执行中等待的活动实例"><a href="#将外部触发器发送到在给定执行中等待的活动实例" class="headerlink" title="将外部触发器发送到在给定执行中等待的活动实例"></a>将外部触发器发送到在给定执行中等待的活动实例</h3><p>参数：<br>executionId - 要发出信号的执行 ID，不能为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signal</span><span class="params">(String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="将外部触发器发送到在给定执行中等待的活动实例。"><a href="#将外部触发器发送到在给定执行中等待的活动实例。" class="headerlink" title="将外部触发器发送到在给定执行中等待的活动实例。"></a>将外部触发器发送到在给定执行中等待的活动实例。</h3><p>参数：<br>executionId - 要发出信号的执行 ID，不能为空。<br>processVariables – 过程变量图</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signal</span><span class="params">(String executionId, Map&lt;String, Object&gt; processVariables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="更新流程实例的businessKey"><a href="#更新流程实例的businessKey" class="headerlink" title="更新流程实例的businessKey"></a>更新流程实例的businessKey</h3><p>参数：<br>processInstanceId – 设置业务key的流程实例id，不能为空<br>businessKey – 新的 businessKey 值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">updateBusinessKey</span><span class="params">(String processInstanceId, String businessKey)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="给流程实例添加涉及的用户"><a href="#给流程实例添加涉及的用户" class="headerlink" title="给流程实例添加涉及的用户"></a>给流程实例添加涉及的用户</h3><p>身份链接的类型由给定的 identityLinkType 定义。</p>
<p>参数：<br>processInstanceId – 流程实例的id，不能为空。<br>userId – 涉及的用户ID，不能为空。<br>identityLinkType – identityLink 的类型，不能为 null（@see IdentityLinkType ）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addUserIdentityLink</span><span class="params">(String processInstanceId, String userId, String identityLinkType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// addUserIdentityLink(String, String, String) 便捷简写； 类型为IdentityLinkType.CANDIDATE</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addParticipantUser</span><span class="params">(String processInstanceId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="给流程实例添加涉及的用户组"><a href="#给流程实例添加涉及的用户组" class="headerlink" title="给流程实例添加涉及的用户组"></a>给流程实例添加涉及的用户组</h3><p>identityLink 的类型由给定的 identityLink 定义。</p>
<p>参数：<br>processInstanceId – 流程实例的id，不能为空。<br>groupId - 要涉及的组的 id，不能为空。<br>identityLinkType – 身份类型，不能为空（@see IdentityLinkType ）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addGroupIdentityLink</span><span class="params">(String processInstanceId, String groupId, String identityLinkType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// addGroupIdentityLink(String, String, String)便捷简写； 类型为IdentityLinkType.CANDIDATE</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addParticipantGroup</span><span class="params">(String processInstanceId, String groupId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除流程实例涉及的用户"><a href="#删除流程实例涉及的用户" class="headerlink" title="删除流程实例涉及的用户"></a>删除流程实例涉及的用户</h3><p>参数：<br>processInstanceId – 流程实例的id，不能为空。<br>userId – 涉及的用户ID，不能为空。<br>identityLinkType – identityLink 的类型，不能为 null（@see IdentityLinkType ）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteUserIdentityLink</span><span class="params">(String processInstanceId, String userId, String identityLinkType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deleteUserIdentityLink(String, String, String)便捷简写； 类型为IdentityLinkType.CANDIDATE</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteParticipantUser</span><span class="params">(String processInstanceId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删流程实例涉及的用户组"><a href="#删流程实例涉及的用户组" class="headerlink" title="删流程实例涉及的用户组"></a>删流程实例涉及的用户组</h3><p>参数：<br>processInstanceId – 流程实例的id，不能为空。<br>groupId - 要涉及的组的 id，不能为空。<br>identityLinkType – 身份类型，不能为空（@see IdentityLinkType ）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteGroupIdentityLink</span><span class="params">(String processInstanceId, String groupId, String identityLinkType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deleteGroupIdentityLink(String, String, String)便捷简写； 类型为IdentityLinkType.CANDIDATE</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteParticipantGroup</span><span class="params">(String processInstanceId, String groupId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取流程实例涉及的用户"><a href="#获取流程实例涉及的用户" class="headerlink" title="获取流程实例涉及的用户"></a>获取流程实例涉及的用户</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;IdentityLink&gt; <span class="title function_">getIdentityLinksForProcessInstance</span><span class="params">(String instanceId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="从给定的执行范围（包括父范围）可见的所有变量"><a href="#从给定的执行范围（包括父范围）可见的所有变量" class="headerlink" title="从给定的执行范围（包括父范围）可见的所有变量"></a>从给定的执行范围（包括父范围）可见的所有变量</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariables</span><span class="params">(String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="从给定的执行范围（包括父范围）可见的所有变量-1"><a href="#从给定的执行范围（包括父范围）可见的所有变量-1" class="headerlink" title="从给定的执行范围（包括父范围）可见的所有变量"></a>从给定的执行范围（包括父范围）可见的所有变量</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>返回：<br>如果未找到此类变量，则为变量实例或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstances</span><span class="params">(String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="从给定的执行范围（包括父范围）可见的所有变量-2"><a href="#从给定的执行范围（包括父范围）可见的所有变量-2" class="headerlink" title="从给定的执行范围（包括父范围）可见的所有变量"></a>从给定的执行范围（包括父范围）可见的所有变量</h3><p>参数：<br>executionIds - 执行的 id，不能为空。<br>返回：<br>变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;VariableInstance&gt; <span class="title function_">getVariableInstancesByExecutionIds</span><span class="params">(Set&lt;String&gt; executionIds)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="从给定的执行范围（包括父范围）可见的所有变量-3"><a href="#从给定的执行范围（包括父范围）可见的所有变量-3" class="headerlink" title="从给定的执行范围（包括父范围）可见的所有变量"></a>从给定的执行范围（包括父范围）可见的所有变量</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>locale – 应返回变量名称和描述的区域设置（如果可用）。<br>withLocalizationFallback – 如果没有找到指定的语言环境，真正的本地化将回退到更通用的语言环境，包括 JVM 的默认语言环境。<br>返回：<br>如果未找到此类变量，则为变量实例或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstances</span><span class="params">(String executionId, String locale, <span class="type">boolean</span> withLocalizationFallback)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="在执行范围内定义的所有变量值，不考虑外部范围"><a href="#在执行范围内定义的所有变量值，不考虑外部范围" class="headerlink" title="在执行范围内定义的所有变量值，不考虑外部范围"></a>在执行范围内定义的所有变量值，不考虑外部范围</h3><p>如果您有许多任务局部变量而您只需要几个，请考虑使用getVariablesLocal(String, Collection)以获得更好的性能。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariablesLocal</span><span class="params">(String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="在执行范围内定义的所有变量值，不考虑外部范围-1"><a href="#在执行范围内定义的所有变量值，不考虑外部范围-1" class="headerlink" title="在执行范围内定义的所有变量值，不考虑外部范围"></a>在执行范围内定义的所有变量值，不考虑外部范围</h3><p>如果您有许多任务局部变量而您只需要几个，请考虑使用getVariableInstancesLocal(String, Collection)以获得更好的性能。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstancesLocal</span><span class="params">(String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="在执行范围内定义的所有变量值，不考虑外部范围-2"><a href="#在执行范围内定义的所有变量值，不考虑外部范围-2" class="headerlink" title="在执行范围内定义的所有变量值，不考虑外部范围"></a>在执行范围内定义的所有变量值，不考虑外部范围</h3><p>如果您有许多任务局部变量而您只需要几个，请考虑使用getVariableInstancesLocal(String, Collection)以获得更好的性能。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>locale – 应返回变量名称和描述的区域设置（如果可用）。<br>withLocalizationFallback – 如果没有找到指定的语言环境，真正的本地化将回退到更通用的语言环境，包括 JVM 的默认语言环境。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstancesLocal</span><span class="params">(String executionId, String locale, <span class="type">boolean</span> withLocalizationFallback)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="所有给定-variableNames-的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量。"><a href="#所有给定-variableNames-的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量。" class="headerlink" title="所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量。"></a>所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量。</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>variableNames – 应检索的变量名称的集合。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariables</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="所有给定-variableNames-的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量"><a href="#所有给定-variableNames-的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量" class="headerlink" title="所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量"></a>所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>variableNames – 应检索的变量名称的集合。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstances</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="所有给定-variableNames-的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量-1"><a href="#所有给定-variableNames-的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量-1" class="headerlink" title="所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量"></a>所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>variableNames – 应检索的变量名称的集合。<br>locale – 应返回变量名称和描述的区域设置（如果可用）。<br>withLocalizationFallback – 如果没有找到指定的语言环境，真正的本地化将回退到更通用的语言环境，包括 JVM 的默认语言环境。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstances</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames, String locale, <span class="type">boolean</span> withLocalizationFallback)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="给定-variableNames-的变量值仅考虑给定的执行范围，而不考虑外部范围"><a href="#给定-variableNames-的变量值仅考虑给定的执行范围，而不考虑外部范围" class="headerlink" title="给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围"></a>给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>variableNames – 应检索的变量名称的集合。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariablesLocal</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="给定-variableNames-的变量值仅考虑给定的执行范围，而不考虑外部范围-1"><a href="#给定-variableNames-的变量值仅考虑给定的执行范围，而不考虑外部范围-1" class="headerlink" title="给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围"></a>给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>variableNames – 应检索的变量名称的集合。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstancesLocal</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="给定-variableNames-的变量值仅考虑给定的执行范围，而不考虑外部范围-2"><a href="#给定-variableNames-的变量值仅考虑给定的执行范围，而不考虑外部范围-2" class="headerlink" title="给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围"></a>给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围</h3><p>参数：<br>executionId - 执行的id，不能为空。<br>variableNames – 应检索的变量名称的集合。<br>locale – 应返回变量名称和描述的区域设置（如果可用）。<br>withLocalizationFallback – 如果没有找到指定的语言环境，真正的本地化将回退到更通用的语言环境，包括 JVM 的默认语言环境。<br>返回：<br>如果未找到此类变量，则为变量或空映射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, VariableInstance&gt; <span class="title function_">getVariableInstancesLocal</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames, String locale, <span class="type">boolean</span> withLocalizationFallback)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取执行实例的变量值"><a href="#获取执行实例的变量值" class="headerlink" title="获取执行实例的变量值"></a>获取执行实例的变量值</h3><p>在给定执行可见的所有范围（包括父范围）中搜索变量。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>variableName – 变量名称，不能为空。<br>返回：<br>如果变量未定义或变量的值为 null，则为变量值或 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object <span class="title function_">getVariable</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取执行实例的变量实例"><a href="#获取执行实例的变量实例" class="headerlink" title="获取执行实例的变量实例"></a>获取执行实例的变量实例</h3><p>在给定执行可见的所有范围（包括父范围）中搜索变量。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>variableName – 变量名称，不能为空。<br>返回：<br>如果变量未定义，则为变量或 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VariableInstance <span class="title function_">getVariableInstance</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取执行实例的变量实例-1"><a href="#获取执行实例的变量实例-1" class="headerlink" title="获取执行实例的变量实例"></a>获取执行实例的变量实例</h3><p>在给定执行可见的所有范围（包括父范围）中搜索变量。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>variableName – 变量名称，不能为空。<br>locale – 应返回变量名称和描述的区域设置（如果可用）。<br>withLocalizationFallback – 如果没有找到指定的语言环境，真正的本地化将回退到更通用的语言环境，包括 JVM 的默认语言环境。<br>返回：<br>如果变量未定义，则为变量或 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VariableInstance <span class="title function_">getVariableInstance</span><span class="params">(String executionId, String variableName, String locale, <span class="type">boolean</span> withLocalizationFallback)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取执行实例的变量值-1"><a href="#获取执行实例的变量值-1" class="headerlink" title="获取执行实例的变量值"></a>获取执行实例的变量值</h3><p>在给定执行可见的所有范围（包括父范围）中搜索变量。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null。 当无法将变量强制转换为给定类时抛出 ClassCastException</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>variableName – 变量名称，不能为空。<br>variableClass – 变量名，不能为空。<br>返回：<br>如果变量未定义或变量的值为 null，则为变量值或 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T <span class="title function_">getVariable</span><span class="params">(String executionId, String variableName, Class&lt;T&gt; variableClass)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="检查此执行是否具有使用给定名称设置的变量，在给定执行可见的所有范围（包括父范围）中搜索变量"><a href="#检查此执行是否具有使用给定名称设置的变量，在给定执行可见的所有范围（包括父范围）中搜索变量" class="headerlink" title="检查此执行是否具有使用给定名称设置的变量，在给定执行可见的所有范围（包括父范围）中搜索变量"></a>检查此执行是否具有使用给定名称设置的变量，在给定执行可见的所有范围（包括父范围）中搜索变量</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">hasVariable</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="执行的变量值"><a href="#执行的变量值" class="headerlink" title="执行的变量值"></a>执行的变量值</h3><p>为执行设置变量时返回值（而不是搜索父作用域）。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object <span class="title function_">getVariableLocal</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="执行的变量"><a href="#执行的变量" class="headerlink" title="执行的变量"></a>执行的变量</h3><p>为执行（而不是搜索父作用域）设置变量时返回该变量。 当没有找到具有给定名称的变量或值设置为 null 时，返回 null。</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>variableName – 变量名称，不能为空。<br>返回：<br>如果变量未定义，则为变量或 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VariableInstance <span class="title function_">getVariableInstanceLocal</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="执行的变量-1"><a href="#执行的变量-1" class="headerlink" title="执行的变量"></a>执行的变量</h3><p>为执行（而不是搜索父作用域）设置变量时返回该变量。 当没有找到具有给定名称的变量或值设置为 null 时，返回 null</p>
<p>参数：<br>executionId - 执行的id，不能为空。<br>variableName – 变量名称，不能为空。<br>locale – 应返回变量名称和描述的区域设置（如果可用）。<br>withLocalizationFallback – 如果没有找到指定的语言环境，真正的本地化将回退到更通用的语言环境，包括 JVM 的默认语言环境。<br>返回：<br>如果变量未定义，则为变量或 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VariableInstance <span class="title function_">getVariableInstanceLocal</span><span class="params">(String executionId, String variableName, String locale, <span class="type">boolean</span> withLocalizationFallback)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="执行的变量值。-当为执行设置变量时（而不是搜索父作用域），返回转换为给定类的值。-当没有找到具有给定名称的变量值或该值设置为-null-时，返回-null"><a href="#执行的变量值。-当为执行设置变量时（而不是搜索父作用域），返回转换为给定类的值。-当没有找到具有给定名称的变量值或该值设置为-null-时，返回-null" class="headerlink" title="执行的变量值。 当为执行设置变量时（而不是搜索父作用域），返回转换为给定类的值。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null"></a>执行的变量值。 当为执行设置变量时（而不是搜索父作用域），返回转换为给定类的值。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T  <span class="title function_">getVariableLocal</span><span class="params">(String executionId, String variableName, Class&lt;T&gt; variableClass)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="检查此执行是否具有使用给定名称设置的局部变量"><a href="#检查此执行是否具有使用给定名称设置的局部变量" class="headerlink" title="检查此执行是否具有使用给定名称设置的局部变量"></a>检查此执行是否具有使用给定名称设置的局部变量</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">hasVariableLocal</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="为执行更新或创建变量"><a href="#为执行更新或创建变量" class="headerlink" title="为执行更新或创建变量"></a>为执行更新或创建变量</h3><p>该变量是根据VariableScope.setVariable(String, Object)记录的算法设置的。</p>
<p>参数：<br>executionId - 要在其中设置变量的执行 ID，不能为空。<br>variableName – 要设置的变量名称，不能为空。<br>value - 要设置的值。 传递 null 时，不会删除该变量，只会将其值设置为 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariable</span><span class="params">(String executionId, String variableName, Object value)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="为执行更新或创建变量（不考虑父作用域）。-如果变量不存在，它将在给定的执行中创建。"><a href="#为执行更新或创建变量（不考虑父作用域）。-如果变量不存在，它将在给定的执行中创建。" class="headerlink" title="为执行更新或创建变量（不考虑父作用域）。 如果变量不存在，它将在给定的执行中创建。"></a>为执行更新或创建变量（不考虑父作用域）。 如果变量不存在，它将在给定的执行中创建。</h3><p>参数：<br>executionId - 要在其中设置变量的执行 ID，不能为空。<br>variableName – 要设置的变量名称，不能为空。<br>value - 要设置的值。 传递 null 时，不会删除该变量，只会将其值设置为 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariableLocal</span><span class="params">(String executionId, String variableName, Object value)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="为执行更新或创建给定变量（包括父作用域）"><a href="#为执行更新或创建给定变量（包括父作用域）" class="headerlink" title="为执行更新或创建给定变量（包括父作用域）"></a>为执行更新或创建给定变量（包括父作用域）</h3><p>变量是根据VariableScope.setVariables(Map)记录的算法设置的，分别应用于每个变量。</p>
<p>参数：<br>executionId - 执行的 id，不能为空。<br>variables - 包含名称（键）和变量值的映射，可以为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariables</span><span class="params">(String executionId, Map&lt;String, ? extends Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="为执行更新或创建给定变量（不考虑父作用域）。-如果变量不存在，它将在给定的执行中创建"><a href="#为执行更新或创建给定变量（不考虑父作用域）。-如果变量不存在，它将在给定的执行中创建" class="headerlink" title="为执行更新或创建给定变量（不考虑父作用域）。 如果变量不存在，它将在给定的执行中创建"></a>为执行更新或创建给定变量（不考虑父作用域）。 如果变量不存在，它将在给定的执行中创建</h3><p>参数：<br>executionId - 执行的 id，不能为空。<br>variables - 包含名称（键）和变量值的映射，可以为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariablesLocal</span><span class="params">(String executionId, Map&lt;String, ? extends Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除执行的变量"><a href="#删除执行的变量" class="headerlink" title="删除执行的变量"></a>删除执行的变量</h3><p>参数：<br>executionId - 要删除变量的执行 ID。<br>variableName – 要删除的变量的名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariable</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除执行的变量（不考虑父作用域）"><a href="#删除执行的变量（不考虑父作用域）" class="headerlink" title="删除执行的变量（不考虑父作用域）"></a>删除执行的变量（不考虑父作用域）</h3><p>参数：<br>executionId - 要删除变量的执行 ID。<br>variableName – 要删除的变量的名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariableLocal</span><span class="params">(String executionId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除执行的变量-1"><a href="#删除执行的变量-1" class="headerlink" title="删除执行的变量"></a>删除执行的变量</h3><p>参数：<br>executionId - 要删除变量的执行 ID。<br>variableNames – 包含要删除的变量名称的集合。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariables</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除执行的变量（不考虑父作用域）-1"><a href="#删除执行的变量（不考虑父作用域）-1" class="headerlink" title="删除执行的变量（不考虑父作用域）"></a>删除执行的变量（不考虑父作用域）</h3><p>参数：<br>executionId - 要删除变量的执行 ID。<br>variableNames – 包含要删除的变量名称的集合。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariablesLocal</span><span class="params">(String executionId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个新的ExecutionQuery实例，可用于查询执行和流程实例"><a href="#创建一个新的ExecutionQuery实例，可用于查询执行和流程实例" class="headerlink" title="创建一个新的ExecutionQuery实例，可用于查询执行和流程实例"></a>创建一个新的ExecutionQuery实例，可用于查询执行和流程实例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExecutionQuery <span class="title function_">createExecutionQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个新的NativeExecutionQuery直接通过-SQL-查询Execution"><a href="#创建一个新的NativeExecutionQuery直接通过-SQL-查询Execution" class="headerlink" title="创建一个新的NativeExecutionQuery直接通过 SQL 查询Execution"></a>创建一个新的NativeExecutionQuery直接通过 SQL 查询Execution</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeExecutionQuery <span class="title function_">createNativeExecutionQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个新的ProcessInstanceQuery实例，可用于查询流程实例"><a href="#创建一个新的ProcessInstanceQuery实例，可用于查询流程实例" class="headerlink" title="创建一个新的ProcessInstanceQuery实例，可用于查询流程实例"></a>创建一个新的ProcessInstanceQuery实例，可用于查询流程实例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstanceQuery <span class="title function_">createProcessInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个新的NativeProcessInstanceQuery直接通过-SQL-查询ProcessInstance"><a href="#创建一个新的NativeProcessInstanceQuery直接通过-SQL-查询ProcessInstance" class="headerlink" title="创建一个新的NativeProcessInstanceQuery直接通过 SQL 查询ProcessInstance"></a>创建一个新的NativeProcessInstanceQuery直接通过 SQL 查询ProcessInstance</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeProcessInstanceQuery <span class="title function_">createNativeProcessInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="挂起流程实例"><a href="#挂起流程实例" class="headerlink" title="挂起流程实例"></a>挂起流程实例</h3><p>如果流程实例处于挂起状态，activiti 将不会执行与该实例关联的作业（计时器、消息）。 如果您有一个流程实例层次结构，从层次结构中挂起一个流程实例不会从该层次结构中挂起其他流程实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">suspendProcessInstanceById</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="使用给定的-id-激活流程实例。-如果您有一个流程实例层次结构，从层次结构中挂起一个流程实例不会从该层次结构中挂起其他流程实例"><a href="#使用给定的-id-激活流程实例。-如果您有一个流程实例层次结构，从层次结构中挂起一个流程实例不会从该层次结构中挂起其他流程实例" class="headerlink" title="使用给定的 id 激活流程实例。 如果您有一个流程实例层次结构，从层次结构中挂起一个流程实例不会从该层次结构中挂起其他流程实例"></a>使用给定的 id 激活流程实例。 如果您有一个流程实例层次结构，从层次结构中挂起一个流程实例不会从该层次结构中挂起其他流程实例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">activateProcessInstanceById</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给所有等待该信号的执行"><a href="#通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给所有等待该信号的执行" class="headerlink" title="通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行"></a>通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行</h3><p>注意：等待的执行是同步通知的。</p>
<p>参数：<br>signalName – 信号事件的名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceived</span><span class="params">(String signalName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="类似于signalEventReceived-String-，但在一个租户的上下文中。"><a href="#类似于signalEventReceived-String-，但在一个租户的上下文中。" class="headerlink" title="类似于signalEventReceived(String) ，但在一个租户的上下文中。"></a>类似于signalEventReceived(String) ，但在一个租户的上下文中。</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceivedWithTenantId</span><span class="params">(String signalName, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给所有等待该信号的执行-1"><a href="#通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给所有等待该信号的执行-1" class="headerlink" title="通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行"></a>通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行</h3><p>参数：<br>signalName – 信号事件的名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceivedAsync</span><span class="params">(String signalName)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="类似于signalEventReceivedAsync-String-，但在一个租户的上下文中。"><a href="#类似于signalEventReceivedAsync-String-，但在一个租户的上下文中。" class="headerlink" title="类似于signalEventReceivedAsync(String) ，但在一个租户的上下文中。"></a>类似于signalEventReceivedAsync(String) ，但在一个租户的上下文中。</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceivedAsyncWithTenantId</span><span class="params">(String signalName, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给所有等待该信号的执行-2"><a href="#通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给所有等待该信号的执行-2" class="headerlink" title="通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行"></a>通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行</h3><p>注意：等待的执行是同步通知的。</p>
<p>参数：<br>signalName – 信号事件的名称<br>processVariables – 添加到执行中的变量映射</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceived</span><span class="params">(String signalName, Map&lt;String, Object&gt; processVariables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="类似于signalEventReceived-String-Map-String-Object-，但在一个租户的上下文中"><a href="#类似于signalEventReceived-String-Map-String-Object-，但在一个租户的上下文中" class="headerlink" title="类似于signalEventReceived(String, Map &lt; String , Object &gt; ) ，但在一个租户的上下文中"></a>类似于signalEventReceived(String, Map &lt; String , Object &gt; ) ，但在一个租户的上下文中</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceivedWithTenantId</span><span class="params">(String signalName, Map&lt;String, Object&gt; processVariables, String tenantId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给单个执行，即由“executionId”引用的执行。-同步通知等待执行"><a href="#通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给单个执行，即由“executionId”引用的执行。-同步通知等待执行" class="headerlink" title="通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 同步通知等待执行"></a>通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 同步通知等待执行</h3><p>参数：<br>signalName – 信号事件的名称<br>executionId - 将信号传递到的执行的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceived</span><span class="params">(String signalName, String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给单个执行，即由“executionId”引用的执行。-同步通知等待执行-1"><a href="#通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给单个执行，即由“executionId”引用的执行。-同步通知等待执行-1" class="headerlink" title="通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 同步通知等待执行"></a>通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 同步通知等待执行</h3><p>参数：<br>signalName – 信号事件的名称<br>executionId - 将信号传递到的执行的 id<br>processVariables – 添加到执行中的变量映射</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceived</span><span class="params">(String signalName, String executionId, Map&lt;String, Object&gt; processVariables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给单个执行，即由“executionId”引用的执行。-异步通知等待执行"><a href="#通知流程引擎已收到名称为“signalName”的信号事件。-此方法将信号传递给单个执行，即由“executionId”引用的执行。-异步通知等待执行" class="headerlink" title="通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 异步通知等待执行"></a>通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 异步通知等待执行</h3><p>参数：<br>signalName – 信号事件的名称<br>executionId - 将信号传递到的执行的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">signalEventReceivedAsync</span><span class="params">(String signalName, String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名为“messageName”的消息事件，并已将其与-ID-为“executionId”的执行相关联。-同步通知等待执行"><a href="#通知流程引擎已收到名为“messageName”的消息事件，并已将其与-ID-为“executionId”的执行相关联。-同步通知等待执行" class="headerlink" title="通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 同步通知等待执行"></a>通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 同步通知等待执行</h3><p>参数：<br>messageName – 消息事件的名称<br>executionId - 将消息传递到的执行的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">messageEventReceived</span><span class="params">(String messageName, String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名为“messageName”的消息事件，并已将其与-ID-为“executionId”的执行相关联。-同步通知等待执行-1"><a href="#通知流程引擎已收到名为“messageName”的消息事件，并已将其与-ID-为“executionId”的执行相关联。-同步通知等待执行-1" class="headerlink" title="通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 同步通知等待执行"></a>通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 同步通知等待执行</h3><p>为订阅消息名称的消息事件的执行范围设置变量。 例如：</p>
<p>主流程中的中间消息事件的范围是流程实例的范围<br>子流程中的中间消息事件的范围是子流程的范围<br>边界消息事件的范围是事件附加到的活动的执行范围<br>变量是根据VariableScope.setVariables(Map)记录的算法设置的，分别应用于每个变量。</p>
<p>参数：<br>messageName – 消息事件的名称<br>executionId - 将消息传递到的执行的 id<br>processVariables – 添加到执行中的变量映射</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">messageEventReceived</span><span class="params">(String messageName, String executionId, Map&lt;String, Object&gt; processVariables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="通知流程引擎已收到名为“messageName”的消息事件，并已将其与-ID-为“executionId”的执行相关联。-异步通知等待执行"><a href="#通知流程引擎已收到名为“messageName”的消息事件，并已将其与-ID-为“executionId”的执行相关联。-异步通知等待执行" class="headerlink" title="通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 异步通知等待执行"></a>通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 异步通知等待执行</h3><p>参数：<br>messageName – 消息事件的名称<br>executionId - 将消息传递到的执行的 id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">messageEventReceivedAsync</span><span class="params">(String messageName, String executionId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="添加一个事件侦听器，调度程序将通知所有事件"><a href="#添加一个事件侦听器，调度程序将通知所有事件" class="headerlink" title="添加一个事件侦听器，调度程序将通知所有事件"></a>添加一个事件侦听器，调度程序将通知所有事件</h3><p>参数：<br>listenerToAdd – 要添加的侦听器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addEventListener</span><span class="params">(ActivitiEventListener listenerToAdd)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="添加一个事件监听器，它只会在事件发生时收到通知，该事件类型在给定类型中"><a href="#添加一个事件监听器，它只会在事件发生时收到通知，该事件类型在给定类型中" class="headerlink" title="添加一个事件监听器，它只会在事件发生时收到通知，该事件类型在给定类型中"></a>添加一个事件监听器，它只会在事件发生时收到通知，该事件类型在给定类型中</h3><p>参数：<br>listenerToAdd – 要添加的侦听器<br>类型 - 应通知侦听器的事件类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addEventListener</span><span class="params">(ActivitiEventListener listenerToAdd, ActivitiEventType... types)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="从此调度程序中删除给定的侦听器。-无论最初注册的类型是什么，侦听器都不会再收到通知"><a href="#从此调度程序中删除给定的侦听器。-无论最初注册的类型是什么，侦听器都不会再收到通知" class="headerlink" title="从此调度程序中删除给定的侦听器。 无论最初注册的类型是什么，侦听器都不会再收到通知"></a>从此调度程序中删除给定的侦听器。 无论最初注册的类型是什么，侦听器都不会再收到通知</h3><p>参数：<br>listenerToRemove – 要删除的侦听器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeEventListener</span><span class="params">(ActivitiEventListener listenerToRemove)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="将给定的事件分派给任何注册的侦听器"><a href="#将给定的事件分派给任何注册的侦听器" class="headerlink" title="将给定的事件分派给任何注册的侦听器"></a>将给定的事件分派给任何注册的侦听器</h3><p>参数：<br>event – 要调度的事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dispatchEvent</span><span class="params">(ActivitiEvent event)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="设置流程实例的名称"><a href="#设置流程实例的名称" class="headerlink" title="设置流程实例的名称"></a>设置流程实例的名称</h3><p>参数：<br>processInstanceId – 要更新的流程实例的 ID<br>name - 流程实例的新名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setProcessInstanceName</span><span class="params">(String processInstanceId, String name)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="获取流程实例相关的所有事件"><a href="#获取流程实例相关的所有事件" class="headerlink" title="获取流程实例相关的所有事件"></a>获取流程实例相关的所有事件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Event&gt; <span class="title function_">getProcessInstanceEvents</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="创建一个-ProcessInstanceBuilder"><a href="#创建一个-ProcessInstanceBuilder" class="headerlink" title="创建一个 ProcessInstanceBuilder"></a>创建一个 ProcessInstanceBuilder</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstanceBuilder <span class="title function_">createProcessInstanceBuilder</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h2 id="identityService"><a href="#identityService" class="headerlink" title="identityService"></a>identityService</h2><h3 id="设置流程实例发起人"><a href="#设置流程实例发起人" class="headerlink" title="设置流程实例发起人"></a>设置流程实例发起人</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 流程实例发起人</span></span><br><span class="line"><span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> loginUser.getUsername();</span><br><span class="line">identityService.setAuthenticatedUserId(username);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 流程变量</span></span><br><span class="line">Map&lt;String, Object&gt; params = BeanUtil.beanToMap(event);</span><br><span class="line">params.put(<span class="string">&quot;creator&quot;</span>, username);</span><br><span class="line"><span class="keyword">if</span> (StringUtils.isNotEmpty(conditionDictCode)) &#123;</span><br><span class="line">  params.put(conditionDictCode, conditionDictValue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动流程</span></span><br><span class="line"><span class="type">ProcessInstance</span> <span class="variable">processInstance</span> <span class="operator">=</span> runtimeService.startProcessInstanceById(procDefId, params);</span><br></pre></td></tr></table></figure>

<h2 id="TaskService"><a href="#TaskService" class="headerlink" title="TaskService"></a>TaskService</h2><blockquote>
<p>任务服务，管理（签收、办理、指派等）、查询任务</p>
</blockquote>
<h3 id="创建任务"><a href="#创建任务" class="headerlink" title="创建任务"></a>创建任务</h3><h4 id="创建一个与流程实例的新任务"><a href="#创建一个与流程实例的新任务" class="headerlink" title="创建一个与流程实例的新任务"></a>创建一个与流程实例的新任务</h4><blockquote>
<p>返回的任务是暂时的，必须使用saveTask(Task) 保存</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Task <span class="title function_">newTask</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h4 id="使用任务-id-创建一个新任务"><a href="#使用任务-id-创建一个新任务" class="headerlink" title="使用任务 id 创建一个新任务"></a>使用任务 id 创建一个新任务</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Task <span class="title function_">newTask</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="保存任务"><a href="#保存任务" class="headerlink" title="保存任务"></a>保存任务</h4><p>如果任务已存在于持久存储中，则更新它。 保存新任务后，将使用新创建的任务的 ID 更新传递给此方法的任务实例</p>
<p>参数：任务实例，不能为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">saveTask</span><span class="params">(Task task)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除任务"><a href="#删除任务" class="headerlink" title="删除任务"></a>删除任务</h3><h4 id="删除任务-1"><a href="#删除任务-1" class="headerlink" title="删除任务"></a>删除任务</h4><blockquote>
<p>不删除与此任务相关的历史信息</p>
<p>参数：taskId – 将被删除的任务的 id，不能为空。 如果不存在具有给定 taskId 的任务，则忽略该操作。<br>抛出：ActivitiObjectNotFoundException – 当给定 id 的任务不存在时。<br>            ActivitiException – 当删除任务时发生错误或任务是正在运行的进程的一部分时</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteTask</span><span class="params">(String taskId)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteTask</span><span class="params">(String taskId, <span class="type">boolean</span> cascade)</span>; <span class="comment">// 级联- 如果级联为真，则与此任务相关的历史信息也会被删除</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteTask</span><span class="params">(String taskId, String deleteReason)</span>; <span class="comment">// deleteReason – 任务被删除的原因。 如果启用，则记录在历史记录中</span></span><br></pre></td></tr></table></figure>

<h4 id="删除多个任务"><a href="#删除多个任务" class="headerlink" title="删除多个任务"></a>删除多个任务</h4><blockquote>
<p>不删除与这些任务相关的历史信息</p>
<p>参数：taskIds – 将被删除的任务的 id，不能为空。 列表中没有现有任务的所有 id 都将被忽略。<br>抛出：ActivitiObjectNotFoundException – 当其中一项任务不存在时。<br>            ActivitiException – 当删除任务时发生错误或其中一个任务是正在运行的进程的一部分时发生</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteTasks</span><span class="params">(Collection&lt;String&gt; taskIds)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteTasks</span><span class="params">(Collection&lt;String&gt; taskIds, <span class="type">boolean</span> cascade)</span>; <span class="comment">// 级联- 如果级联为真，则与此任务相关的历史信息也会被删除</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteTasks</span><span class="params">(Collection&lt;String&gt; taskIds, String deleteReason)</span>; <span class="comment">// deleteReason – 任务被删除的原因。 如果启用，则记录在历史记录中</span></span><br></pre></td></tr></table></figure>

<h3 id="认领任务"><a href="#认领任务" class="headerlink" title="认领任务"></a>认领任务</h3><h4 id="认领任务-1"><a href="#认领任务-1" class="headerlink" title="认领任务"></a>认领任务</h4><blockquote>
<p>参数：taskId - 要声明的任务，不能为空。<br>        userId – 声明任务的用户。 当 userId 为 null 时，任务无人认领，没有分配给任何人。<br>抛出：ActivitiObjectNotFoundException – 当任务不存在时。<br>            ActivitiTaskAlreadyClaimedException – 当任务已经被另一个用户认领</p>
<p>与 setAssignee(String taskId, String userId) 不同在于，这里会检查任务是否已被认领，如果被认领则会抛出ActivitiTaskAlreadyClaimedException</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">claim</span><span class="params">(String taskId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="取消认领"><a href="#取消认领" class="headerlink" title="取消认领"></a>取消认领</h4><blockquote>
<p>参数：taskId - 要取消声明的任务，不能为空。<br>抛出：ActivitiObjectNotFoundException – 当任务不存在时</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">unclaim</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="完成任务"><a href="#完成任务" class="headerlink" title="完成任务"></a>完成任务</h3><h4 id="完成任务-1"><a href="#完成任务-1" class="headerlink" title="完成任务"></a>完成任务</h4><blockquote>
<p>参数：taskId - 要完成的任务的 id，不能为空。<br>抛出：ActivitiObjectNotFoundException – 当给定 id 的任务不存在时。<br>ActivitiException – 当这个任务是DelegationState.PENDING委托时</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">complete</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="完成任务、提供流程变量"><a href="#完成任务、提供流程变量" class="headerlink" title="完成任务、提供流程变量"></a>完成任务、提供流程变量</h4><blockquote>
<p>需要的任务参数由最终用户给出<br>参数：taskId - 要完成的任务的 id，不能为空。<br>            变量- 任务参数。 可能为 null 或为空。<br>抛出：ActivitiObjectNotFoundException – 当给定 id 的任务不存在时</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">complete</span><span class="params">(String taskId, Map&lt;String, Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="完成任务、提供本地流程变量"><a href="#完成任务、提供本地流程变量" class="headerlink" title="完成任务、提供本地流程变量"></a>完成任务、提供本地流程变量</h4><blockquote>
<p>参数：taskId - 要完成的任务的 id，不能为空。<br>            变量- 任务参数。 可能为 null 或为空。<br>            localScope – 如果为 true，则提供的变量将存储在任务本地，而不是流程实例范围内,默认为true<br>抛出：ActivitiObjectNotFoundException – 当给定 id 的任务不存在时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">complete</span><span class="params">(String taskId, Map&lt;String, Object&gt; variables, <span class="type">boolean</span> localScope)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h3><h4 id="将任务委派给另一个用户"><a href="#将任务委派给另一个用户" class="headerlink" title="将任务委派给另一个用户"></a>将任务委派给另一个用户</h4><blockquote>
<p>这意味着受让人已设置，并且委托状态已设置为DelegationState.PENDING 。 如果没有为任务设置所有者，则所有者将设置为任务的当前受理人</p>
<p>参数：taskId – 将被委派的任务的 ID。<br>            userId – 将被设置为受理人的用户 ID。<br>抛出：ActivitiObjectNotFoundException – 当给定 id 的任务不存在时</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">delegateTask</span><span class="params">(String taskId, String userId)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 将任务委托给另一个人,修改act_ru_task表记录</span></span><br><span class="line"><span class="comment">   * 如果没有任务所有者(owner_),则将该字段置为任务的当前受理人</span></span><br><span class="line"><span class="comment">   * 任务委托状态(delegation_)变更为PENDING</span></span><br><span class="line"><span class="comment">   * 当前审批人(assignee_) 变更为被委托人，类似于 setAssignee 效果</span></span><br><span class="line"><span class="comment">   * </span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> taskId 需要转交的任务节点ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> userId 被委托人</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@throws</span> ActivitiObjectNotFoundException 无法找到任务节点ID</span></span><br><span class="line"><span class="comment">   */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例</span></span><br><span class="line">taskService.delegateTask(taskId, toUser);</span><br><span class="line">taskService.setOwner(taskId, getLoginUsername());</span><br></pre></td></tr></table></figure>

<h4 id="指定任务的归属者-owner"><a href="#指定任务的归属者-owner" class="headerlink" title="指定任务的归属者 owner"></a>指定任务的归属者 owner</h4><blockquote>
<p>参数：taskId - 任务的 id，不能为空。<br>            userId – 获得所有权的人的ID 。<br>抛出：ActivitiObjectNotFoundException – 当任务或用户不存在时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setOwner</span><span class="params">(String taskId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="指定任务的受理人-assignee"><a href="#指定任务的受理人-assignee" class="headerlink" title="指定任务的受理人 assignee"></a>指定任务的受理人 assignee</h4><blockquote>
<p>参数：taskId - 任务的 id，不能为空。<br>            userId – 用作受让人的用户的 ID。<br>抛出：ActivitiObjectNotFoundException – 当任务或用户不存在时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setAssignee</span><span class="params">(String taskId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="被委托人完成任务"><a href="#被委托人完成任务" class="headerlink" title="被委托人完成任务"></a>被委托人完成任务</h4><blockquote>
<p>只能在此任务为DelegationState.PENDING委托时调用。 此方法返回后， delegationState设置为DelegationState.RESOLVED 。</p>
<p>并且可以将其发送回所有者</p>
<p>参数：taskId - 要解决的任务的 id，不能为空。<br>抛出：ActivitiObjectNotFoundException – 当给定 id 的任务不存在时</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">resolveTask</span><span class="params">(String taskId)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 被加签人处理完毕,节点处理人回转到委托人</span></span><br><span class="line"><span class="comment">   * 只有在委托状态(delegation_)为PENDING才能执行</span></span><br><span class="line"><span class="comment">   * 委托状态(delegation_)变更为RESOLVED</span></span><br><span class="line"><span class="comment">   * 当前审批人(assignee_)变更为 委托人</span></span><br><span class="line"><span class="comment">   * </span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> taskId 任务节点ID</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@throws</span> ActivitiObjectNotFoundException 无法找到任务节点ID</span></span><br><span class="line"><span class="comment">   */</span></span><br></pre></td></tr></table></figure>

<h4 id="被委托人完成任务、提供流程变量"><a href="#被委托人完成任务、提供流程变量" class="headerlink" title="被委托人完成任务、提供流程变量"></a>被委托人完成任务、提供流程变量</h4><blockquote>
<p>将其发送回所有者</p>
<p>只能在此任务为DelegationState.PENDING委托时调用。 此方法返回后， delegationState设置为DelegationState.RESOLVED 。</p>
<p>参数：任务编号<br>            变量<br>抛出：ProcessEngineException – 当不存在具有给定 ID 的任务时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">resolveTask</span><span class="params">(String taskId, Map&lt;String, Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询与给定任务关联的IdentityLink"><a href="#查询与给定任务关联的IdentityLink" class="headerlink" title="查询与给定任务关联的IdentityLink"></a>查询与给定任务关联的IdentityLink</h3><blockquote>
<p>这样的IdentityLink通知某个身份（例如组或用户）如何与某个任务（例如作为候选人、受托人等）相关联。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;IdentityLink&gt; <span class="title function_">getIdentityLinksForTask</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务添加候选人"><a href="#任务添加候选人" class="headerlink" title="任务添加候选人"></a>任务添加候选人</h3><blockquote>
<p>参数：taskId - 任务的 id，不能为空。<br>            userId - 用作候选的用户 ID，不能为空。<br>抛出：ActivitiObjectNotFoundException – 当任务或用户不存在时</p>
<p>注意：会在运行时和历史表中添加数据</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addCandidateUser</span><span class="params">(String taskId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务添加候选人组"><a href="#任务添加候选人组" class="headerlink" title="任务添加候选人组"></a>任务添加候选人组</h3><blockquote>
<p>参数：taskId - 任务的 id，不能为空。<br>            groupId - 用作候选的组的 id，不能为空。<br>抛出：ActivitiObjectNotFoundException – 当任务或组不存在时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addCandidateGroup</span><span class="params">(String taskId, String groupId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="让用户参与一项任务"><a href="#让用户参与一项任务" class="headerlink" title="让用户参与一项任务"></a>让用户参与一项任务</h3><blockquote>
<p>身份链接的类型由给定的 identityLinkType 定义。</p>
<p>参数：taskId - 任务的 id，不能为空。<br>            userId – 涉及的用户ID，不能为空。<br>            identityLinkType – identityLink 的类型，不能为 null（@see IdentityLinkType ）。<br>抛出：ActivitiObjectNotFoundException – 当任务或用户不存在时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addUserIdentityLink</span><span class="params">(String taskId, String userId, String identityLinkType)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="让用户组参与一项任务"><a href="#让用户组参与一项任务" class="headerlink" title="让用户组参与一项任务"></a>让用户组参与一项任务</h3><blockquote>
<p>identityLink 的类型由给定的 identityLink 定义。<br>参数：taskId - 任务的 id，不能为空。<br>            groupId - 要涉及的组的 id，不能为空。<br>            identityLinkType –身份类型，不能为空（@see IdentityLinkType ）。<br>抛出：ActivitiObjectNotFoundException – 当任务或组不存在时。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">addGroupIdentityLink</span><span class="params">(String taskId, String groupId, String identityLinkType)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务删除用户"><a href="#任务删除用户" class="headerlink" title="任务删除用户"></a>任务删除用户</h3><p>参数：taskId - 任务的 id，不能为空。<br>            userId – 涉及的用户ID，不能为空。<br>            identityLinkType – identityLink 的类型，不能为 null。<br>抛出：ActivitiObjectNotFoundException – 当任务或用户不存在时。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteUserIdentityLink</span><span class="params">(String taskId, String userId, String identityLinkType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deleteUserIdentityLink(String, String, String)便捷简写； 类型为IdentityLinkType.CANDIDATE</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteCandidateUser</span><span class="params">(String taskId, String userId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务删除用户组"><a href="#任务删除用户组" class="headerlink" title="任务删除用户组"></a>任务删除用户组</h3><p>参数：taskId - 任务的 id，不能为空。<br>            groupId - 要涉及的组的 id，不能为空。<br>            identityLinkType –身份类型，不能为空。<br>抛出：ActivitiObjectNotFoundException – 当任务或组不存在时</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteGroupIdentityLink</span><span class="params">(String taskId, String groupId, String identityLinkType)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deleteGroupIdentityLink(String, String, String)便捷简写； 类型为IdentityLinkType.CANDIDATE</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteCandidateGroup</span><span class="params">(String taskId, String groupId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="更改任务的优先级"><a href="#更改任务的优先级" class="headerlink" title="更改任务的优先级"></a>更改任务的优先级</h3><p>授权：实际所有者&#x2F;业务管理员</p>
<p>参数：taskId - 任务的 id，不能为空。<br>            优先级- 任务的新优先级。<br>抛出：ActivitiObjectNotFoundException – 当任务不存在时。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setPriority</span><span class="params">(String taskId, <span class="type">int</span> priority)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="更改任务的截止日期"><a href="#更改任务的截止日期" class="headerlink" title="更改任务的截止日期"></a>更改任务的截止日期</h3><p>参数：taskId - 任务的 id，不能为空。<br>            DueDate – 任务的新截止日期<br>抛出：ActivitiException – 当任务不存在时</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setDueDate</span><span class="params">(String taskId, Date dueDate)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="返回一个新的TaskQuery-，可用于动态查询任务"><a href="#返回一个新的TaskQuery-，可用于动态查询任务" class="headerlink" title="返回一个新的TaskQuery ，可用于动态查询任务"></a>返回一个新的TaskQuery ，可用于动态查询任务</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TaskQuery <span class="title function_">createTaskQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="为任务返回一个新的NativeQuery"><a href="#为任务返回一个新的NativeQuery" class="headerlink" title="为任务返回一个新的NativeQuery"></a>为任务返回一个新的NativeQuery</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeTaskQuery <span class="title function_">createNativeTaskQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务变量"><a href="#任务变量" class="headerlink" title="任务变量"></a>任务变量</h3><p>在任务上设置变量，会在<code>act_ru_variable</code> 和 <code>act_hi_varinst</code> 中添加</p>
<p>如果变量不存在，它将在最外层范围内创建。 这意味着在此任务与执行相关的情况下的流程实例。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariable</span><span class="params">(String taskId, String variableName, Object value)</span>;</span><br></pre></td></tr></table></figure>

<p>在任务上设置变量。 如果变量不存在，它将在最外层范围内创建。 这意味着在此任务与执行相关的情况下的流程实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariables</span><span class="params">(String taskId, Map&lt;String, ? extends Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<p>在任务上设置变量。 如果变量不存在，它将在任务中创建。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariableLocal</span><span class="params">(String taskId, String variableName, Object value)</span>;</span><br></pre></td></tr></table></figure>

<p>在任务上设置变量。 如果变量不存在，它将在任务中创建。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setVariablesLocal</span><span class="params">(String taskId, Map&lt;String, ? extends Object&gt; variables)</span>;</span><br></pre></td></tr></table></figure>

<p>获取变量并在任务范围内搜索，如果可用，还可以搜索执行范围。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object <span class="title function_">getVariable</span><span class="params">(String taskId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<p>获取变量并在任务范围内搜索，如果可用，还搜索执行范围</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T <span class="title function_">getVariable</span><span class="params">(String taskId, String variableName, Class&lt;T&gt; variableClass)</span>;</span><br></pre></td></tr></table></figure>

<p>检查任务是否在任务范围内以及执行范围内是否具有使用给定名称定义的变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">hasVariable</span><span class="params">(String taskId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<p>检查任务是否具有使用给定名称定义的变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object <span class="title function_">getVariableLocal</span><span class="params">(String taskId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<p>检查任务是否具有使用给定名称定义的变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T <span class="title function_">getVariableLocal</span><span class="params">(String taskId, String variableName, Class&lt;T&gt; variableClass)</span>;</span><br></pre></td></tr></table></figure>

<p>检查任务是否具有使用给定名称定义的变量，仅限本地任务范围</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">hasVariableLocal</span><span class="params">(String taskId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<p>获取所有变量并在任务范围内搜索，如果可用，还可以搜索执行范围。 如果您有很多变量而您只需要几个，请考虑使用getVariables(String, Collection)以获得更好的性能。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariables</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<p>获取所有变量并仅在任务范围内搜索。 如果您有许多任务局部变量而您只需要几个，请考虑使用getVariablesLocal(String, Collection)以获得更好的性能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariablesLocal</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<p>获取所有给定变量名的值并仅在任务范围内搜索。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariables</span><span class="params">(String taskId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<p>获取任务的变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; <span class="title function_">getVariablesLocal</span><span class="params">(String taskId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<p>获取所有变量并仅在任务范围内搜索</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;VariableInstance&gt; <span class="title function_">getVariableInstancesLocalByTaskIds</span><span class="params">(Set&lt;String&gt; taskIds)</span>;</span><br></pre></td></tr></table></figure>

<p>从任务中删除变量。 当变量不存在时，什么也不会发生</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariable</span><span class="params">(String taskId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<p>从任务中删除变量（不考虑父作用域）。 当变量不存在时，什么也不会发生。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariableLocal</span><span class="params">(String taskId, String variableName)</span>;</span><br></pre></td></tr></table></figure>

<p>从任务中删除给定集合中的所有变量。 不存在的变量名将被简单地忽略</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariables</span><span class="params">(String taskId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<p>从任务中删除给定集合中的所有变量（不考虑父作用域）。 不存在的变量名将被简单地忽略。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">removeVariablesLocal</span><span class="params">(String taskId, Collection&lt;String&gt; variableNames)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务注释"><a href="#任务注释" class="headerlink" title="任务注释"></a>任务注释</h3><p>向任务和&#x2F;或流程实例添加注释</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Comment <span class="title function_">addComment</span><span class="params">(String taskId, String processInstanceId, String message)</span>;</span><br></pre></td></tr></table></figure>

<p>向具有自定义类型的任务和&#x2F;或流程实例添加注释</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Comment <span class="title function_">addComment</span><span class="params">(String taskId, String processInstanceId, String type, String message)</span>;</span><br></pre></td></tr></table></figure>

<p>给定流程实例相关的注释</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Comment&gt; <span class="title function_">getProcessInstanceComments</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<p>63.给定流程实例相关的注释。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Comment&gt; <span class="title function_">getProcessInstanceComments</span><span class="params">(String processInstanceId, String type)</span>;</span><br></pre></td></tr></table></figure>

<p>返回具有给定 id 的单个评论。 如果给定的 id 不存在评论，则返回 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Comment <span class="title function_">getComment</span><span class="params">(String commentId)</span>;</span><br></pre></td></tr></table></figure>

<p>从提供的任务和&#x2F;或流程实例中删除所有评论</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteComments</span><span class="params">(String taskId, String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<p>删除具有给定 ID 的单个评论<br>抛出：ActivitiObjectNotFoundException – 当给定的 id 不存在评论时。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteComment</span><span class="params">(String commentId)</span>;</span><br></pre></td></tr></table></figure>

<p>给定任务相关的评论</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Comment&gt; <span class="title function_">getTaskComments</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<p>给定类型的给定任务相关的注释</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Comment&gt; <span class="title function_">getTaskComments</span><span class="params">(String taskId, String type)</span>;</span><br></pre></td></tr></table></figure>

<p>给定类型的所有评论</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Comment&gt; <span class="title function_">getCommentsByType</span><span class="params">(String type)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务事件"><a href="#任务事件" class="headerlink" title="任务事件"></a>任务事件</h3><p>给定任务相关的所有事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Event&gt; <span class="title function_">getTaskEvents</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<p>返回具有给定 ID 的单个事件。 如果给定 id 的事件不存在，则返回 null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Event <span class="title function_">getEvent</span><span class="params">(String eventId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="任务附件"><a href="#任务附件" class="headerlink" title="任务附件"></a>任务附件</h3><p>向任务和&#x2F;或流程实例添加新附件并使用输入流提供内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Attachment <span class="title function_">createAttachment</span><span class="params">(String attachmentType,String taskId, String processInstanceId,                           String attachmentName, String attachmentDescription, InputStream content)</span>;</span><br></pre></td></tr></table></figure>

<p>向任务和&#x2F;或流程实例添加新附件并使用 url 作为内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Attachment <span class="title function_">createAttachment</span><span class="params">(String attachmentType, String taskId,String processInstanceId,                             String attachmentName,String attachmentDescription, String url)</span>;</span><br></pre></td></tr></table></figure>

<p>更新附件的名称和描述</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">saveAttachment</span><span class="params">(Attachment attachment)</span>;</span><br></pre></td></tr></table></figure>

<p>检索特定附件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Attachment <span class="title function_">getAttachment</span><span class="params">(String attachmentId)</span>;</span><br></pre></td></tr></table></figure>

<p>检索特定附件的流内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream <span class="title function_">getAttachmentContent</span><span class="params">(String attachmentId)</span>;</span><br></pre></td></tr></table></figure>

<p>与任务关联的附件列表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Attachment&gt; <span class="title function_">getTaskAttachments</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<p>与流程实例关联的附件列表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Attachment&gt; <span class="title function_">getProcessInstanceAttachments</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<p>删除附件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteAttachment</span><span class="params">(String attachmentId)</span>;</span><br></pre></td></tr></table></figure>

<p>此父任务的子任务列表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Task&gt; <span class="title function_">getSubTasks</span><span class="params">(String parentTaskId)</span>;</span><br></pre></td></tr></table></figure>

<h2 id="HistoryService"><a href="#HistoryService" class="headerlink" title="HistoryService"></a>HistoryService</h2><blockquote>
<p>历史服务，管理所有历史数据：流程实例、活动实例、任务实例、流程变量、流程参与者</p>
</blockquote>
<h3 id="查询历史流程实例-HistoricProcessInstances"><a href="#查询历史流程实例-HistoricProcessInstances" class="headerlink" title="查询历史流程实例 HistoricProcessInstances"></a>查询历史流程实例 HistoricProcessInstances</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HistoricProcessInstanceQuery <span class="title function_">createHistoricProcessInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询历史活动实例HistoricActivityInstance"><a href="#查询历史活动实例HistoricActivityInstance" class="headerlink" title="查询历史活动实例HistoricActivityInstance"></a>查询历史活动实例HistoricActivityInstance</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HistoricActivityInstanceQuery <span class="title function_">createHistoricActivityInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询历史任务实例-HistoricTaskInstances"><a href="#查询历史任务实例-HistoricTaskInstances" class="headerlink" title="查询历史任务实例 HistoricTaskInstances"></a>查询历史任务实例 HistoricTaskInstances</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HistoricTaskInstanceQuery <span class="title function_">createHistoricTaskInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询历史详情HistoricDetails"><a href="#查询历史详情HistoricDetails" class="headerlink" title="查询历史详情HistoricDetails"></a>查询历史详情HistoricDetails</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HistoricDetailQuery <span class="title function_">createHistoricDetailQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询原生历史详情"><a href="#查询原生历史详情" class="headerlink" title="查询原生历史详情"></a>查询原生历史详情</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeHistoricDetailQuery <span class="title function_">createNativeHistoricDetailQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询历史流程变量"><a href="#查询历史流程变量" class="headerlink" title="查询历史流程变量"></a>查询历史流程变量</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HistoricVariableInstanceQuery <span class="title function_">createHistoricVariableInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询原生历史流程变量"><a href="#查询原生历史流程变量" class="headerlink" title="查询原生历史流程变量"></a>查询原生历史流程变量</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeHistoricVariableInstanceQuery <span class="title function_">createNativeHistoricVariableInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除历史任务实例"><a href="#删除历史任务实例" class="headerlink" title="删除历史任务实例"></a>删除历史任务实例</h3><blockquote>
<p>如果历史任务实例不存在,则不抛出异常，方法返回正常</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteHistoricTaskInstance</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除历史流程实例"><a href="#删除历史流程实例" class="headerlink" title="删除历史流程实例"></a>删除历史流程实例</h3><blockquote>
<p>所有历史活动、历史任务和历史细节（变量更新、表单属性）也将被删除</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteHistoricProcessInstance</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询原生历史流程实例-HistoricProcessInstances"><a href="#查询原生历史流程实例-HistoricProcessInstances" class="headerlink" title="查询原生历史流程实例 HistoricProcessInstances"></a>查询原生历史流程实例 HistoricProcessInstances</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeHistoricProcessInstanceQuery <span class="title function_">createNativeHistoricProcessInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询原生历史任务实例HistoricTaskInstances"><a href="#查询原生历史任务实例HistoricTaskInstances" class="headerlink" title="查询原生历史任务实例HistoricTaskInstances"></a>查询原生历史任务实例HistoricTaskInstances</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeHistoricTaskInstanceQuery <span class="title function_">createNativeHistoricTaskInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询原生历史活动实例HistoricActivityInstances"><a href="#查询原生历史活动实例HistoricActivityInstances" class="headerlink" title="查询原生历史活动实例HistoricActivityInstances"></a>查询原生历史活动实例HistoricActivityInstances</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NativeHistoricActivityInstanceQuery <span class="title function_">createNativeHistoricActivityInstanceQuery</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询与给定任务关联的HistoricIdentityLinks"><a href="#查询与给定任务关联的HistoricIdentityLinks" class="headerlink" title="查询与给定任务关联的HistoricIdentityLinks"></a>查询与给定任务关联的HistoricIdentityLinks</h3><blockquote>
<p>这样一个IdentityLink告知一个特定的身份(例如:组或用户)与某个任务相关联(例如:作为候选者、受让者等)，即使任务已经完成，而不是只存在于活动任务中的IdentityLinks</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;HistoricIdentityLink&gt; <span class="title function_">getHistoricIdentityLinksForTask</span><span class="params">(String taskId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询与给定流程实例关联的HistoricIdentityLink"><a href="#查询与给定流程实例关联的HistoricIdentityLink" class="headerlink" title="查询与给定流程实例关联的HistoricIdentityLink"></a>查询与给定流程实例关联的HistoricIdentityLink</h3><blockquote>
<p>这样的IdentityLink通知某个身份（例如，组或用户）如何与某个流程实例相关联，即使该实例已完成，而不是IdentityLink仅存在于活动实例中</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;HistoricIdentityLink&gt; <span class="title function_">getHistoricIdentityLinksForProcessInstance</span> <span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查询一个流程实例的ProcessInstanceHistoryLog"><a href="#查询一个流程实例的ProcessInstanceHistoryLog" class="headerlink" title="查询一个流程实例的ProcessInstanceHistoryLog"></a>查询一个流程实例的ProcessInstanceHistoryLog</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ProcessInstanceHistoryLogQuery <span class="title function_">createProcessInstanceHistoryLogQuery</span><span class="params">(String processInstanceId)</span>;</span><br></pre></td></tr></table></figure>

<h2 id="IdentityLinkType"><a href="#IdentityLinkType" class="headerlink" title="IdentityLinkType"></a>IdentityLinkType</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ASSIGNEE</span> <span class="operator">=</span> <span class="string">&quot;assignee&quot;</span>;  <span class="comment">// 受理人：认领任务的人、受托人</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">CANDIDATE</span> <span class="operator">=</span> <span class="string">&quot;candidate&quot;</span>; <span class="comment">// 候选人</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">OWNER</span> <span class="operator">=</span> <span class="string">&quot;owner&quot;</span>; <span class="comment">// 归属者</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">STARTER</span> <span class="operator">=</span> <span class="string">&quot;starter&quot;</span>; <span class="comment">// 发起</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">PARTICIPANT</span> <span class="operator">=</span> <span class="string">&quot;participant&quot;</span>; <span class="comment">// 参与者</span></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://wangwenzhe.github.io">王文哲</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://wangwenzhe.github.io/posts/365c8d84.html">https://wangwenzhe.github.io/posts/365c8d84.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wangwenzhe.github.io" target="_blank">王文哲的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Activiti/">Activiti</a></div><div class="post_share"><div class="social-share" data-image="/about/logo.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/b496016c.html" title="apidoc"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">apidoc</div></div></a></div><div class="next-post pull-right"><a href="/posts/22dbc42a.html" title="前端-Vue"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">前端-Vue</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/48b57b68.html" title="Activiti"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-04</div><div class="title">Activiti</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/about/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">王文哲</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">593</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">354</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">555</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">风雨无阻，灯火为你，星光虽微，照耀夜空。</div></div><div class="card-widget card-cheesy_pick-up_lines"><div class="card-content"><div class="item-headline"><i class="fas fa-heart" style="color:pink"></i><span>想对你说</span></div><div id="cheesy_pick-up_lines-container"></div></div></div><script data-pjax="data-pjax" src="/js/cheesy_pick-up_lines.js"></script><div class="js-pjax"><script>cheesy_pick_up_lines()</script></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">1.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%80%BB%E7%BB%93"><span class="toc-number">2.</span> <span class="toc-text">常用总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.1.</span> <span class="toc-text">流程实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">设置流程变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.2.</span> <span class="toc-text">获取流程变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.2.</span> <span class="toc-text">任务实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B-%E6%8C%87%E5%AE%9A%E8%8A%82%E7%82%B9%E7%9A%84%E5%8E%86%E5%8F%B2%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.2.1.</span> <span class="toc-text">获取流程实例-指定节点的历史任务实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F"><span class="toc-number">2.2.2.</span> <span class="toc-text">设置任务实例变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F"><span class="toc-number">2.2.3.</span> <span class="toc-text">获取任务实例变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%BB%BB%E5%8A%A1%E5%8E%86%E5%8F%B2%E5%85%B3%E8%81%94%E4%BA%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">2.3.</span> <span class="toc-text">获取任务历史关联人信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RepositoryService"><span class="toc-number">3.</span> <span class="toc-text">RepositoryService</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.1.</span> <span class="toc-text">创建一个流程模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.2.</span> <span class="toc-text">保存模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.3.</span> <span class="toc-text">删除模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%A8%A1%E5%9E%8B%E7%BC%96%E8%BE%91%E5%99%A8%E6%BA%90"><span class="toc-number">3.4.</span> <span class="toc-text">保存模型的模型编辑器源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E6%A8%A1%E5%9E%8B%E7%9A%84%E9%A2%9D%E5%A4%96%E7%9A%84%E6%A8%A1%E5%9E%8B%E7%BC%96%E8%BE%91%E5%99%A8%E6%BA%90"><span class="toc-number">3.5.</span> <span class="toc-text">保存模型的额外的模型编辑器源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.6.</span> <span class="toc-text">查询模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.7.</span> <span class="toc-text">查看模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E6%A8%A1%E5%9E%8B%E7%BC%96%E8%BE%91%E5%99%A8%E6%BA%90"><span class="toc-number">3.8.</span> <span class="toc-text">返回模型编辑器源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E6%A8%A1%E5%9E%8B%E9%A2%9D%E5%A4%96%E7%BC%96%E8%BE%91%E5%99%A8%E6%BA%90"><span class="toc-number">3.9.</span> <span class="toc-text">返回模型额外编辑器源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E9%83%A8%E7%BD%B2"><span class="toc-number">3.10.</span> <span class="toc-text">创建新部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%BB%99%E5%AE%9A%E7%9A%84%E9%83%A8%E7%BD%B2"><span class="toc-number">3.11.</span> <span class="toc-text">删除给定的部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%BB%99%E5%AE%9A%E7%9A%84%E9%83%A8%E7%BD%B2%E5%B9%B6%E7%BA%A7%E8%81%94%E5%88%A0%E9%99%A4%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E3%80%81%E5%8E%86%E5%8F%B2%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E5%92%8C%E4%BD%9C%E4%B8%9A"><span class="toc-number">3.12.</span> <span class="toc-text">删除给定的部署并级联删除流程实例、历史流程实例和作业</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%BB%99%E5%AE%9A%E7%9A%84%E9%83%A8%E7%BD%B2-1"><span class="toc-number">3.13.</span> <span class="toc-text">删除给定的部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E9%83%A8%E7%BD%B2%E7%9A%84%E7%B1%BB%E5%88%AB"><span class="toc-number">3.14.</span> <span class="toc-text">设置部署的类别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%83%A8%E7%BD%B2%E8%B5%84%E6%BA%90%E5%88%97%E8%A1%A8"><span class="toc-number">3.15.</span> <span class="toc-text">查询部署资源列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%AD%97%E8%8A%82%E6%B5%81%E8%AE%BF%E9%97%AE%E9%83%A8%E7%BD%B2%E8%B5%84%E6%BA%90"><span class="toc-number">3.16.</span> <span class="toc-text">通过字节流访问部署资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E9%83%A8%E7%BD%B2%E7%9A%84%E7%A7%9F%E6%88%B7%E6%A0%87%E8%AF%86%E7%AC%A6%E4%BB%A5%E5%8C%B9%E9%85%8D%E7%BB%99%E5%AE%9A%E7%9A%84%E7%A7%9F%E6%88%B7%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">3.17.</span> <span class="toc-text">更改部署的租户标识符以匹配给定的租户标识符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">3.18.</span> <span class="toc-text">查询流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89-1"><span class="toc-number">3.19.</span> <span class="toc-text">查询流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%83%A8%E7%BD%B2"><span class="toc-number">3.20.</span> <span class="toc-text">查询部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%B5%B7%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">3.21.</span> <span class="toc-text">挂起流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%B5%B7%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89-1"><span class="toc-number">3.22.</span> <span class="toc-text">挂起流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%B5%B7%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89-2"><span class="toc-number">3.23.</span> <span class="toc-text">挂起流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BF%80%E6%B4%BB%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">3.24.</span> <span class="toc-text">激活流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BF%80%E6%B4%BB%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89-1"><span class="toc-number">3.25.</span> <span class="toc-text">激活流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BF%80%E6%B4%BB%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89-2"><span class="toc-number">3.26.</span> <span class="toc-text">激活流程定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E7%9A%84%E7%B1%BB%E5%88%AB"><span class="toc-number">3.27.</span> <span class="toc-text">设置流程定义的类别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%B5%81%E7%A8%8B%E6%A8%A1%E5%9E%8B%E3%80%81%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E3%80%81%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">3.28.</span> <span class="toc-text">查看流程模型、流程定义、流程图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E6%98%AF%E5%90%A6%E6%8C%82%E8%B5%B7"><span class="toc-number">3.29.</span> <span class="toc-text">检查流程定义是否挂起</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E6%B7%BB%E5%8A%A0%E5%80%99%E9%80%89%E5%90%AF%E5%8A%A8%E7%94%A8%E6%88%B7"><span class="toc-number">3.30.</span> <span class="toc-text">流程定义添加候选启动用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E6%8E%88%E6%9D%83%E5%80%99%E5%90%AF%E5%8A%A8%E9%80%89%E7%BB%84"><span class="toc-number">3.31.</span> <span class="toc-text">流程定义授权候启动选组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E5%80%99%E9%80%89%E5%90%AF%E5%8A%A8%E7%94%A8%E6%88%B7"><span class="toc-number">3.32.</span> <span class="toc-text">删除流程定义候选启动用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E7%9A%84%E5%80%99%E9%80%89%E5%90%AF%E5%8A%A8%E7%BB%84"><span class="toc-number">3.33.</span> <span class="toc-text">删除流程定义的候选启动组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E5%85%B3%E8%81%94%E7%9A%84IdentityLink"><span class="toc-number">3.34.</span> <span class="toc-text">查询流程定义关联的IdentityLink</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%9C%A8-Activiti-%E5%BC%95%E6%93%8E%E4%B8%8A%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E7%9A%84%E8%A7%84%E5%88%99%E9%AA%8C%E8%AF%81%E7%BB%99%E5%AE%9A%E7%9A%84%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">3.35.</span> <span class="toc-text">根据在 Activiti 引擎上执行流程定义的规则验证给定的流程定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RuntimeService"><span class="toc-number">4.</span> <span class="toc-text">RuntimeService</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8BByKey"><span class="toc-number">4.1.</span> <span class="toc-text">启动一个流程实例ByKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B-%EF%BC%8C%E4%BD%86%E4%BD%BF%E7%94%A8%E7%89%B9%E5%AE%9A%E7%9A%84%E7%A7%9F%E6%88%B7%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">4.2.</span> <span class="toc-text">启动一个流程实例 ，但使用特定的租户标识符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8BById"><span class="toc-number">4.3.</span> <span class="toc-text">启动一个流程实例ById</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%B6%88%E6%81%AF%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.4.</span> <span class="toc-text">根据消息启动流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.5.</span> <span class="toc-text">删除运行时流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%B4%BB%E5%8A%A8%E4%B8%AD%E7%AD%89%E5%BE%85%E7%9A%84%E6%89%80%E6%9C%89%E6%89%A7%E8%A1%8C%E7%9A%84%E6%B4%BB%E5%8A%A8-ID"><span class="toc-number">4.6.</span> <span class="toc-text">查找活动中等待的所有执行的活动 ID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E5%A4%96%E9%83%A8%E8%A7%A6%E5%8F%91%E5%99%A8%E5%8F%91%E9%80%81%E5%88%B0%E5%9C%A8%E7%BB%99%E5%AE%9A%E6%89%A7%E8%A1%8C%E4%B8%AD%E7%AD%89%E5%BE%85%E7%9A%84%E6%B4%BB%E5%8A%A8%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.7.</span> <span class="toc-text">将外部触发器发送到在给定执行中等待的活动实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E5%A4%96%E9%83%A8%E8%A7%A6%E5%8F%91%E5%99%A8%E5%8F%91%E9%80%81%E5%88%B0%E5%9C%A8%E7%BB%99%E5%AE%9A%E6%89%A7%E8%A1%8C%E4%B8%AD%E7%AD%89%E5%BE%85%E7%9A%84%E6%B4%BB%E5%8A%A8%E5%AE%9E%E4%BE%8B%E3%80%82"><span class="toc-number">4.8.</span> <span class="toc-text">将外部触发器发送到在给定执行中等待的活动实例。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9A%84businessKey"><span class="toc-number">4.9.</span> <span class="toc-text">更新流程实例的businessKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E6%B7%BB%E5%8A%A0%E6%B6%89%E5%8F%8A%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-number">4.10.</span> <span class="toc-text">给流程实例添加涉及的用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E6%B7%BB%E5%8A%A0%E6%B6%89%E5%8F%8A%E7%9A%84%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">4.11.</span> <span class="toc-text">给流程实例添加涉及的用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E6%B6%89%E5%8F%8A%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-number">4.12.</span> <span class="toc-text">删除流程实例涉及的用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E6%B6%89%E5%8F%8A%E7%9A%84%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">4.13.</span> <span class="toc-text">删流程实例涉及的用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E6%B6%89%E5%8F%8A%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-number">4.14.</span> <span class="toc-text">获取流程实例涉及的用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F"><span class="toc-number">4.15.</span> <span class="toc-text">从给定的执行范围（包括父范围）可见的所有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F-1"><span class="toc-number">4.16.</span> <span class="toc-text">从给定的执行范围（包括父范围）可见的所有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F-2"><span class="toc-number">4.17.</span> <span class="toc-text">从给定的执行范围（包括父范围）可见的所有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F-3"><span class="toc-number">4.18.</span> <span class="toc-text">从给定的执行范围（包括父范围）可见的所有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%E5%86%85%E5%AE%9A%E4%B9%89%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%80%83%E8%99%91%E5%A4%96%E9%83%A8%E8%8C%83%E5%9B%B4"><span class="toc-number">4.19.</span> <span class="toc-text">在执行范围内定义的所有变量值，不考虑外部范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%E5%86%85%E5%AE%9A%E4%B9%89%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%80%83%E8%99%91%E5%A4%96%E9%83%A8%E8%8C%83%E5%9B%B4-1"><span class="toc-number">4.20.</span> <span class="toc-text">在执行范围内定义的所有变量值，不考虑外部范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%E5%86%85%E5%AE%9A%E4%B9%89%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%80%83%E8%99%91%E5%A4%96%E9%83%A8%E8%8C%83%E5%9B%B4-2"><span class="toc-number">4.21.</span> <span class="toc-text">在执行范围内定义的所有变量值，不考虑外部范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%BB%99%E5%AE%9A-variableNames-%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E9%83%BD%E8%80%83%E8%99%91%E4%BA%86%E4%BB%8E%E7%BB%99%E5%AE%9A%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F%E3%80%82"><span class="toc-number">4.22.</span> <span class="toc-text">所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%BB%99%E5%AE%9A-variableNames-%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E9%83%BD%E8%80%83%E8%99%91%E4%BA%86%E4%BB%8E%E7%BB%99%E5%AE%9A%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F"><span class="toc-number">4.23.</span> <span class="toc-text">所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%BB%99%E5%AE%9A-variableNames-%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E9%83%BD%E8%80%83%E8%99%91%E4%BA%86%E4%BB%8E%E7%BB%99%E5%AE%9A%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%98%E9%87%8F-1"><span class="toc-number">4.24.</span> <span class="toc-text">所有给定 variableNames 的变量值都考虑了从给定执行范围（包括父范围）可见的所有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AE%9A-variableNames-%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E4%BB%85%E8%80%83%E8%99%91%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%8C%E8%80%8C%E4%B8%8D%E8%80%83%E8%99%91%E5%A4%96%E9%83%A8%E8%8C%83%E5%9B%B4"><span class="toc-number">4.25.</span> <span class="toc-text">给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AE%9A-variableNames-%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E4%BB%85%E8%80%83%E8%99%91%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%8C%E8%80%8C%E4%B8%8D%E8%80%83%E8%99%91%E5%A4%96%E9%83%A8%E8%8C%83%E5%9B%B4-1"><span class="toc-number">4.26.</span> <span class="toc-text">给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AE%9A-variableNames-%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E4%BB%85%E8%80%83%E8%99%91%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E8%8C%83%E5%9B%B4%EF%BC%8C%E8%80%8C%E4%B8%8D%E8%80%83%E8%99%91%E5%A4%96%E9%83%A8%E8%8C%83%E5%9B%B4-2"><span class="toc-number">4.27.</span> <span class="toc-text">给定 variableNames 的变量值仅考虑给定的执行范围，而不考虑外部范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC"><span class="toc-number">4.28.</span> <span class="toc-text">获取执行实例的变量值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.29.</span> <span class="toc-text">获取执行实例的变量实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B-1"><span class="toc-number">4.30.</span> <span class="toc-text">获取执行实例的变量实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%89%A7%E8%A1%8C%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC-1"><span class="toc-number">4.31.</span> <span class="toc-text">获取执行实例的变量值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%AD%A4%E6%89%A7%E8%A1%8C%E6%98%AF%E5%90%A6%E5%85%B7%E6%9C%89%E4%BD%BF%E7%94%A8%E7%BB%99%E5%AE%9A%E5%90%8D%E7%A7%B0%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%8C%E5%9C%A8%E7%BB%99%E5%AE%9A%E6%89%A7%E8%A1%8C%E5%8F%AF%E8%A7%81%E7%9A%84%E6%89%80%E6%9C%89%E8%8C%83%E5%9B%B4%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E8%8C%83%E5%9B%B4%EF%BC%89%E4%B8%AD%E6%90%9C%E7%B4%A2%E5%8F%98%E9%87%8F"><span class="toc-number">4.32.</span> <span class="toc-text">检查此执行是否具有使用给定名称设置的变量，在给定执行可见的所有范围（包括父范围）中搜索变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC"><span class="toc-number">4.33.</span> <span class="toc-text">执行的变量值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">4.34.</span> <span class="toc-text">执行的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F-1"><span class="toc-number">4.35.</span> <span class="toc-text">执行的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E3%80%82-%E5%BD%93%E4%B8%BA%E6%89%A7%E8%A1%8C%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F%E6%97%B6%EF%BC%88%E8%80%8C%E4%B8%8D%E6%98%AF%E6%90%9C%E7%B4%A2%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%89%EF%BC%8C%E8%BF%94%E5%9B%9E%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%BB%99%E5%AE%9A%E7%B1%BB%E7%9A%84%E5%80%BC%E3%80%82-%E5%BD%93%E6%B2%A1%E6%9C%89%E6%89%BE%E5%88%B0%E5%85%B7%E6%9C%89%E7%BB%99%E5%AE%9A%E5%90%8D%E7%A7%B0%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC%E6%88%96%E8%AF%A5%E5%80%BC%E8%AE%BE%E7%BD%AE%E4%B8%BA-null-%E6%97%B6%EF%BC%8C%E8%BF%94%E5%9B%9E-null"><span class="toc-number">4.36.</span> <span class="toc-text">执行的变量值。 当为执行设置变量时（而不是搜索父作用域），返回转换为给定类的值。 当没有找到具有给定名称的变量值或该值设置为 null 时，返回 null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%AD%A4%E6%89%A7%E8%A1%8C%E6%98%AF%E5%90%A6%E5%85%B7%E6%9C%89%E4%BD%BF%E7%94%A8%E7%BB%99%E5%AE%9A%E5%90%8D%E7%A7%B0%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">4.37.</span> <span class="toc-text">检查此执行是否具有使用给定名称设置的局部变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E6%89%A7%E8%A1%8C%E6%9B%B4%E6%96%B0%E6%88%96%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F"><span class="toc-number">4.38.</span> <span class="toc-text">为执行更新或创建变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E6%89%A7%E8%A1%8C%E6%9B%B4%E6%96%B0%E6%88%96%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F%EF%BC%88%E4%B8%8D%E8%80%83%E8%99%91%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%89%E3%80%82-%E5%A6%82%E6%9E%9C%E5%8F%98%E9%87%8F%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%AE%83%E5%B0%86%E5%9C%A8%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E4%B8%AD%E5%88%9B%E5%BB%BA%E3%80%82"><span class="toc-number">4.39.</span> <span class="toc-text">为执行更新或创建变量（不考虑父作用域）。 如果变量不存在，它将在给定的执行中创建。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E6%89%A7%E8%A1%8C%E6%9B%B4%E6%96%B0%E6%88%96%E5%88%9B%E5%BB%BA%E7%BB%99%E5%AE%9A%E5%8F%98%E9%87%8F%EF%BC%88%E5%8C%85%E6%8B%AC%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%89"><span class="toc-number">4.40.</span> <span class="toc-text">为执行更新或创建给定变量（包括父作用域）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E6%89%A7%E8%A1%8C%E6%9B%B4%E6%96%B0%E6%88%96%E5%88%9B%E5%BB%BA%E7%BB%99%E5%AE%9A%E5%8F%98%E9%87%8F%EF%BC%88%E4%B8%8D%E8%80%83%E8%99%91%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%89%E3%80%82-%E5%A6%82%E6%9E%9C%E5%8F%98%E9%87%8F%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%AE%83%E5%B0%86%E5%9C%A8%E7%BB%99%E5%AE%9A%E7%9A%84%E6%89%A7%E8%A1%8C%E4%B8%AD%E5%88%9B%E5%BB%BA"><span class="toc-number">4.41.</span> <span class="toc-text">为执行更新或创建给定变量（不考虑父作用域）。 如果变量不存在，它将在给定的执行中创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">4.42.</span> <span class="toc-text">删除执行的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%88%E4%B8%8D%E8%80%83%E8%99%91%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%89"><span class="toc-number">4.43.</span> <span class="toc-text">删除执行的变量（不考虑父作用域）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F-1"><span class="toc-number">4.44.</span> <span class="toc-text">删除执行的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%89%A7%E8%A1%8C%E7%9A%84%E5%8F%98%E9%87%8F%EF%BC%88%E4%B8%8D%E8%80%83%E8%99%91%E7%88%B6%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%89-1"><span class="toc-number">4.45.</span> <span class="toc-text">删除执行的变量（不考虑父作用域）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84ExecutionQuery%E5%AE%9E%E4%BE%8B%EF%BC%8C%E5%8F%AF%E7%94%A8%E4%BA%8E%E6%9F%A5%E8%AF%A2%E6%89%A7%E8%A1%8C%E5%92%8C%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.46.</span> <span class="toc-text">创建一个新的ExecutionQuery实例，可用于查询执行和流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84NativeExecutionQuery%E7%9B%B4%E6%8E%A5%E9%80%9A%E8%BF%87-SQL-%E6%9F%A5%E8%AF%A2Execution"><span class="toc-number">4.47.</span> <span class="toc-text">创建一个新的NativeExecutionQuery直接通过 SQL 查询Execution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84ProcessInstanceQuery%E5%AE%9E%E4%BE%8B%EF%BC%8C%E5%8F%AF%E7%94%A8%E4%BA%8E%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.48.</span> <span class="toc-text">创建一个新的ProcessInstanceQuery实例，可用于查询流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84NativeProcessInstanceQuery%E7%9B%B4%E6%8E%A5%E9%80%9A%E8%BF%87-SQL-%E6%9F%A5%E8%AF%A2ProcessInstance"><span class="toc-number">4.49.</span> <span class="toc-text">创建一个新的NativeProcessInstanceQuery直接通过 SQL 查询ProcessInstance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%B5%B7%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.50.</span> <span class="toc-text">挂起流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%99%E5%AE%9A%E7%9A%84-id-%E6%BF%80%E6%B4%BB%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E3%80%82-%E5%A6%82%E6%9E%9C%E6%82%A8%E6%9C%89%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%EF%BC%8C%E4%BB%8E%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E4%B8%AD%E6%8C%82%E8%B5%B7%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E4%B8%8D%E4%BC%9A%E4%BB%8E%E8%AF%A5%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E4%B8%AD%E6%8C%82%E8%B5%B7%E5%85%B6%E4%BB%96%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">4.51.</span> <span class="toc-text">使用给定的 id 激活流程实例。 如果您有一个流程实例层次结构，从层次结构中挂起一个流程实例不会从该层次结构中挂起其他流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%9CsignalName%E2%80%9D%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6%E3%80%82-%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BF%A1%E5%8F%B7%E4%BC%A0%E9%80%92%E7%BB%99%E6%89%80%E6%9C%89%E7%AD%89%E5%BE%85%E8%AF%A5%E4%BF%A1%E5%8F%B7%E7%9A%84%E6%89%A7%E8%A1%8C"><span class="toc-number">4.52.</span> <span class="toc-text">通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E4%BC%BC%E4%BA%8EsignalEventReceived-String-%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%80%E4%B8%AA%E7%A7%9F%E6%88%B7%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E3%80%82"><span class="toc-number">4.53.</span> <span class="toc-text">类似于signalEventReceived(String) ，但在一个租户的上下文中。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%9CsignalName%E2%80%9D%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6%E3%80%82-%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BF%A1%E5%8F%B7%E4%BC%A0%E9%80%92%E7%BB%99%E6%89%80%E6%9C%89%E7%AD%89%E5%BE%85%E8%AF%A5%E4%BF%A1%E5%8F%B7%E7%9A%84%E6%89%A7%E8%A1%8C-1"><span class="toc-number">4.54.</span> <span class="toc-text">通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E4%BC%BC%E4%BA%8EsignalEventReceivedAsync-String-%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%80%E4%B8%AA%E7%A7%9F%E6%88%B7%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD%E3%80%82"><span class="toc-number">4.55.</span> <span class="toc-text">类似于signalEventReceivedAsync(String) ，但在一个租户的上下文中。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%9CsignalName%E2%80%9D%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6%E3%80%82-%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BF%A1%E5%8F%B7%E4%BC%A0%E9%80%92%E7%BB%99%E6%89%80%E6%9C%89%E7%AD%89%E5%BE%85%E8%AF%A5%E4%BF%A1%E5%8F%B7%E7%9A%84%E6%89%A7%E8%A1%8C-2"><span class="toc-number">4.56.</span> <span class="toc-text">通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给所有等待该信号的执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E4%BC%BC%E4%BA%8EsignalEventReceived-String-Map-String-Object-%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%80%E4%B8%AA%E7%A7%9F%E6%88%B7%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD"><span class="toc-number">4.57.</span> <span class="toc-text">类似于signalEventReceived(String, Map &lt; String , Object &gt; ) ，但在一个租户的上下文中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%9CsignalName%E2%80%9D%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6%E3%80%82-%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BF%A1%E5%8F%B7%E4%BC%A0%E9%80%92%E7%BB%99%E5%8D%95%E4%B8%AA%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%8D%B3%E7%94%B1%E2%80%9CexecutionId%E2%80%9D%E5%BC%95%E7%94%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E3%80%82-%E5%90%8C%E6%AD%A5%E9%80%9A%E7%9F%A5%E7%AD%89%E5%BE%85%E6%89%A7%E8%A1%8C"><span class="toc-number">4.58.</span> <span class="toc-text">通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 同步通知等待执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%9CsignalName%E2%80%9D%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6%E3%80%82-%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BF%A1%E5%8F%B7%E4%BC%A0%E9%80%92%E7%BB%99%E5%8D%95%E4%B8%AA%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%8D%B3%E7%94%B1%E2%80%9CexecutionId%E2%80%9D%E5%BC%95%E7%94%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E3%80%82-%E5%90%8C%E6%AD%A5%E9%80%9A%E7%9F%A5%E7%AD%89%E5%BE%85%E6%89%A7%E8%A1%8C-1"><span class="toc-number">4.59.</span> <span class="toc-text">通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 同步通知等待执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E7%A7%B0%E4%B8%BA%E2%80%9CsignalName%E2%80%9D%E7%9A%84%E4%BF%A1%E5%8F%B7%E4%BA%8B%E4%BB%B6%E3%80%82-%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BF%A1%E5%8F%B7%E4%BC%A0%E9%80%92%E7%BB%99%E5%8D%95%E4%B8%AA%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%8D%B3%E7%94%B1%E2%80%9CexecutionId%E2%80%9D%E5%BC%95%E7%94%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E3%80%82-%E5%BC%82%E6%AD%A5%E9%80%9A%E7%9F%A5%E7%AD%89%E5%BE%85%E6%89%A7%E8%A1%8C"><span class="toc-number">4.60.</span> <span class="toc-text">通知流程引擎已收到名称为“signalName”的信号事件。 此方法将信号传递给单个执行，即由“executionId”引用的执行。 异步通知等待执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E4%B8%BA%E2%80%9CmessageName%E2%80%9D%E7%9A%84%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6%EF%BC%8C%E5%B9%B6%E5%B7%B2%E5%B0%86%E5%85%B6%E4%B8%8E-ID-%E4%B8%BA%E2%80%9CexecutionId%E2%80%9D%E7%9A%84%E6%89%A7%E8%A1%8C%E7%9B%B8%E5%85%B3%E8%81%94%E3%80%82-%E5%90%8C%E6%AD%A5%E9%80%9A%E7%9F%A5%E7%AD%89%E5%BE%85%E6%89%A7%E8%A1%8C"><span class="toc-number">4.61.</span> <span class="toc-text">通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 同步通知等待执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E4%B8%BA%E2%80%9CmessageName%E2%80%9D%E7%9A%84%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6%EF%BC%8C%E5%B9%B6%E5%B7%B2%E5%B0%86%E5%85%B6%E4%B8%8E-ID-%E4%B8%BA%E2%80%9CexecutionId%E2%80%9D%E7%9A%84%E6%89%A7%E8%A1%8C%E7%9B%B8%E5%85%B3%E8%81%94%E3%80%82-%E5%90%8C%E6%AD%A5%E9%80%9A%E7%9F%A5%E7%AD%89%E5%BE%85%E6%89%A7%E8%A1%8C-1"><span class="toc-number">4.62.</span> <span class="toc-text">通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 同步通知等待执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E6%B5%81%E7%A8%8B%E5%BC%95%E6%93%8E%E5%B7%B2%E6%94%B6%E5%88%B0%E5%90%8D%E4%B8%BA%E2%80%9CmessageName%E2%80%9D%E7%9A%84%E6%B6%88%E6%81%AF%E4%BA%8B%E4%BB%B6%EF%BC%8C%E5%B9%B6%E5%B7%B2%E5%B0%86%E5%85%B6%E4%B8%8E-ID-%E4%B8%BA%E2%80%9CexecutionId%E2%80%9D%E7%9A%84%E6%89%A7%E8%A1%8C%E7%9B%B8%E5%85%B3%E8%81%94%E3%80%82-%E5%BC%82%E6%AD%A5%E9%80%9A%E7%9F%A5%E7%AD%89%E5%BE%85%E6%89%A7%E8%A1%8C"><span class="toc-number">4.63.</span> <span class="toc-text">通知流程引擎已收到名为“messageName”的消息事件，并已将其与 ID 为“executionId”的执行相关联。 异步通知等待执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E4%BA%8B%E4%BB%B6%E4%BE%A6%E5%90%AC%E5%99%A8%EF%BC%8C%E8%B0%83%E5%BA%A6%E7%A8%8B%E5%BA%8F%E5%B0%86%E9%80%9A%E7%9F%A5%E6%89%80%E6%9C%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.64.</span> <span class="toc-text">添加一个事件侦听器，调度程序将通知所有事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8%EF%BC%8C%E5%AE%83%E5%8F%AA%E4%BC%9A%E5%9C%A8%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E6%97%B6%E6%94%B6%E5%88%B0%E9%80%9A%E7%9F%A5%EF%BC%8C%E8%AF%A5%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%9C%A8%E7%BB%99%E5%AE%9A%E7%B1%BB%E5%9E%8B%E4%B8%AD"><span class="toc-number">4.65.</span> <span class="toc-text">添加一个事件监听器，它只会在事件发生时收到通知，该事件类型在给定类型中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E6%AD%A4%E8%B0%83%E5%BA%A6%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%88%A0%E9%99%A4%E7%BB%99%E5%AE%9A%E7%9A%84%E4%BE%A6%E5%90%AC%E5%99%A8%E3%80%82-%E6%97%A0%E8%AE%BA%E6%9C%80%E5%88%9D%E6%B3%A8%E5%86%8C%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E4%BE%A6%E5%90%AC%E5%99%A8%E9%83%BD%E4%B8%8D%E4%BC%9A%E5%86%8D%E6%94%B6%E5%88%B0%E9%80%9A%E7%9F%A5"><span class="toc-number">4.66.</span> <span class="toc-text">从此调度程序中删除给定的侦听器。 无论最初注册的类型是什么，侦听器都不会再收到通知</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E7%BB%99%E5%AE%9A%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%88%86%E6%B4%BE%E7%BB%99%E4%BB%BB%E4%BD%95%E6%B3%A8%E5%86%8C%E7%9A%84%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-number">4.67.</span> <span class="toc-text">将给定的事件分派给任何注册的侦听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9A%84%E5%90%8D%E7%A7%B0"><span class="toc-number">4.68.</span> <span class="toc-text">设置流程实例的名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9B%B8%E5%85%B3%E7%9A%84%E6%89%80%E6%9C%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.69.</span> <span class="toc-text">获取流程实例相关的所有事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-ProcessInstanceBuilder"><span class="toc-number">4.70.</span> <span class="toc-text">创建一个 ProcessInstanceBuilder</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#identityService"><span class="toc-number">5.</span> <span class="toc-text">identityService</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E5%8F%91%E8%B5%B7%E4%BA%BA"><span class="toc-number">5.1.</span> <span class="toc-text">设置流程实例发起人</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TaskService"><span class="toc-number">6.</span> <span class="toc-text">TaskService</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.1.</span> <span class="toc-text">创建任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%B8%8E%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9A%84%E6%96%B0%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.1.1.</span> <span class="toc-text">创建一个与流程实例的新任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%BB%E5%8A%A1-id-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.1.2.</span> <span class="toc-text">使用任务 id 创建一个新任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.1.3.</span> <span class="toc-text">保存任务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.2.</span> <span class="toc-text">删除任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%BB%BB%E5%8A%A1-1"><span class="toc-number">6.2.1.</span> <span class="toc-text">删除任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%A4%9A%E4%B8%AA%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.2.2.</span> <span class="toc-text">删除多个任务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E9%A2%86%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.3.</span> <span class="toc-text">认领任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E9%A2%86%E4%BB%BB%E5%8A%A1-1"><span class="toc-number">6.3.1.</span> <span class="toc-text">认领任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E8%AE%A4%E9%A2%86"><span class="toc-number">6.3.2.</span> <span class="toc-text">取消认领</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.4.</span> <span class="toc-text">完成任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1-1"><span class="toc-number">6.4.1.</span> <span class="toc-text">完成任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1%E3%80%81%E6%8F%90%E4%BE%9B%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">6.4.2.</span> <span class="toc-text">完成任务、提供流程变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1%E3%80%81%E6%8F%90%E4%BE%9B%E6%9C%AC%E5%9C%B0%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">6.4.3.</span> <span class="toc-text">完成任务、提供本地流程变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A7%94%E6%89%98"><span class="toc-number">6.5.</span> <span class="toc-text">委托</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E4%BB%BB%E5%8A%A1%E5%A7%94%E6%B4%BE%E7%BB%99%E5%8F%A6%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7"><span class="toc-number">6.5.1.</span> <span class="toc-text">将任务委派给另一个用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%BD%92%E5%B1%9E%E8%80%85-owner"><span class="toc-number">6.5.2.</span> <span class="toc-text">指定任务的归属者 owner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E4%BB%BB%E5%8A%A1%E7%9A%84%E5%8F%97%E7%90%86%E4%BA%BA-assignee"><span class="toc-number">6.5.3.</span> <span class="toc-text">指定任务的受理人 assignee</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A2%AB%E5%A7%94%E6%89%98%E4%BA%BA%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.5.4.</span> <span class="toc-text">被委托人完成任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A2%AB%E5%A7%94%E6%89%98%E4%BA%BA%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1%E3%80%81%E6%8F%90%E4%BE%9B%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">6.5.5.</span> <span class="toc-text">被委托人完成任务、提供流程变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E7%BB%99%E5%AE%9A%E4%BB%BB%E5%8A%A1%E5%85%B3%E8%81%94%E7%9A%84IdentityLink"><span class="toc-number">6.6.</span> <span class="toc-text">查询与给定任务关联的IdentityLink</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%B7%BB%E5%8A%A0%E5%80%99%E9%80%89%E4%BA%BA"><span class="toc-number">6.7.</span> <span class="toc-text">任务添加候选人</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%B7%BB%E5%8A%A0%E5%80%99%E9%80%89%E4%BA%BA%E7%BB%84"><span class="toc-number">6.8.</span> <span class="toc-text">任务添加候选人组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9%E7%94%A8%E6%88%B7%E5%8F%82%E4%B8%8E%E4%B8%80%E9%A1%B9%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.9.</span> <span class="toc-text">让用户参与一项任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9%E7%94%A8%E6%88%B7%E7%BB%84%E5%8F%82%E4%B8%8E%E4%B8%80%E9%A1%B9%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.10.</span> <span class="toc-text">让用户组参与一项任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">6.11.</span> <span class="toc-text">任务删除用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">6.12.</span> <span class="toc-text">任务删除用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E4%BB%BB%E5%8A%A1%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">6.13.</span> <span class="toc-text">更改任务的优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%88%AA%E6%AD%A2%E6%97%A5%E6%9C%9F"><span class="toc-number">6.14.</span> <span class="toc-text">更改任务的截止日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84TaskQuery-%EF%BC%8C%E5%8F%AF%E7%94%A8%E4%BA%8E%E5%8A%A8%E6%80%81%E6%9F%A5%E8%AF%A2%E4%BB%BB%E5%8A%A1"><span class="toc-number">6.15.</span> <span class="toc-text">返回一个新的TaskQuery ，可用于动态查询任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%BB%E5%8A%A1%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84NativeQuery"><span class="toc-number">6.16.</span> <span class="toc-text">为任务返回一个新的NativeQuery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E5%8F%98%E9%87%8F"><span class="toc-number">6.17.</span> <span class="toc-text">任务变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%B3%A8%E9%87%8A"><span class="toc-number">6.18.</span> <span class="toc-text">任务注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.19.</span> <span class="toc-text">任务事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E9%99%84%E4%BB%B6"><span class="toc-number">6.20.</span> <span class="toc-text">任务附件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HistoryService"><span class="toc-number">7.</span> <span class="toc-text">HistoryService</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%86%E5%8F%B2%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B-HistoricProcessInstances"><span class="toc-number">7.1.</span> <span class="toc-text">查询历史流程实例 HistoricProcessInstances</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%86%E5%8F%B2%E6%B4%BB%E5%8A%A8%E5%AE%9E%E4%BE%8BHistoricActivityInstance"><span class="toc-number">7.2.</span> <span class="toc-text">查询历史活动实例HistoricActivityInstance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%86%E5%8F%B2%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B-HistoricTaskInstances"><span class="toc-number">7.3.</span> <span class="toc-text">查询历史任务实例 HistoricTaskInstances</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%86%E5%8F%B2%E8%AF%A6%E6%83%85HistoricDetails"><span class="toc-number">7.4.</span> <span class="toc-text">查询历史详情HistoricDetails</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%9F%E7%94%9F%E5%8E%86%E5%8F%B2%E8%AF%A6%E6%83%85"><span class="toc-number">7.5.</span> <span class="toc-text">查询原生历史详情</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%86%E5%8F%B2%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">7.6.</span> <span class="toc-text">查询历史流程变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%9F%E7%94%9F%E5%8E%86%E5%8F%B2%E6%B5%81%E7%A8%8B%E5%8F%98%E9%87%8F"><span class="toc-number">7.7.</span> <span class="toc-text">查询原生历史流程变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8B"><span class="toc-number">7.8.</span> <span class="toc-text">删除历史任务实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B"><span class="toc-number">7.9.</span> <span class="toc-text">删除历史流程实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%9F%E7%94%9F%E5%8E%86%E5%8F%B2%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B-HistoricProcessInstances"><span class="toc-number">7.10.</span> <span class="toc-text">查询原生历史流程实例 HistoricProcessInstances</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%9F%E7%94%9F%E5%8E%86%E5%8F%B2%E4%BB%BB%E5%8A%A1%E5%AE%9E%E4%BE%8BHistoricTaskInstances"><span class="toc-number">7.11.</span> <span class="toc-text">查询原生历史任务实例HistoricTaskInstances</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8E%9F%E7%94%9F%E5%8E%86%E5%8F%B2%E6%B4%BB%E5%8A%A8%E5%AE%9E%E4%BE%8BHistoricActivityInstances"><span class="toc-number">7.12.</span> <span class="toc-text">查询原生历史活动实例HistoricActivityInstances</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E7%BB%99%E5%AE%9A%E4%BB%BB%E5%8A%A1%E5%85%B3%E8%81%94%E7%9A%84HistoricIdentityLinks"><span class="toc-number">7.13.</span> <span class="toc-text">查询与给定任务关联的HistoricIdentityLinks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E7%BB%99%E5%AE%9A%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E5%85%B3%E8%81%94%E7%9A%84HistoricIdentityLink"><span class="toc-number">7.14.</span> <span class="toc-text">查询与给定流程实例关联的HistoricIdentityLink</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9A%84ProcessInstanceHistoryLog"><span class="toc-number">7.15.</span> <span class="toc-text">查询一个流程实例的ProcessInstanceHistoryLog</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IdentityLinkType"><span class="toc-number">8.</span> <span class="toc-text">IdentityLinkType</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/1e40bac5.html" title="Java-JUC-Executors">Java-JUC-Executors</a><time datetime="2025-06-18T09:27:58.000Z" title="发表于 2025-06-18 17:27:58">2025-06-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/a48b71a9.html" title="Java-负载均衡策略-最小连接">Java-负载均衡策略-最小连接</a><time datetime="2025-06-18T06:49:05.000Z" title="发表于 2025-06-18 14:49:05">2025-06-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/429b593d.html" title="Redis-用户签到方案">Redis-用户签到方案</a><time datetime="2025-06-17T09:55:08.000Z" title="发表于 2025-06-17 17:55:08">2025-06-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/e8154c21.html" title="开发规范-Git分支管理">开发规范-Git分支管理</a><time datetime="2025-06-17T06:56:23.000Z" title="发表于 2025-06-17 14:56:23">2025-06-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/cf577558.html" title="开发规范-前端">开发规范-前端</a><time datetime="2025-06-17T06:55:55.000Z" title="发表于 2025-06-17 14:55:55">2025-06-17</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 王文哲</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="/js/fishes.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><!-- hexo injector body_end start -->
      <div id="xf-MusicPlayer" data-cdnName="https://player.xfyun.club/js"  data-themeColor="xf-darkGreen"data-memory="1"></div>
<script src="https://player.xfyun.club/js/xf-MusicPlayer/js/xf-MusicPlayer.min.js"></script><!-- hexo injector body_end end --></body></html>